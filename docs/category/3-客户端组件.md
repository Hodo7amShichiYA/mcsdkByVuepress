---
sidebarDepth: 1
---
# <span id="客户端组件"></span>客户端组件

<span id="粒子"></span>
## [粒子](../0-名词解释.md#粒子)

<span id="particleControl"></span>
### particleControl

用于控制粒子播放相关

<span id="Play"></span>
#### **Play()**

- 描述

    播放粒子特效

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(particleEntityId, "Minecraft", "particleControl")
    comp.Play()
```

<span id="SetLayer"></span>
#### **SetLayer(layer)**

- 描述

    粒子默认层级为1，当层级不为1时表示该特效开启特效分层渲染功能。特效（粒子和帧动画）分层渲染时，层级越高渲染越靠后，层级大的会遮挡层级低的，且同一层级的特效会根据特效的相对位置产生正确的相互遮挡关系。

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | layer | int | 粒子渲染层级，总共包含0-15的层级。 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(particleEntityId, "Minecraft", "particleControl")
    # 设置渲染层级为2
    comp.SetLayer(2)
```

- 备注

  - 该接口只针对粒子进行设置，序列帧特效请使用frameAniControl组件


<span id="SetRelative"></span>
#### **SetRelative(relative)**

- 描述

    当粒子绑定了entity或骨骼模型时，发射出的粒子使用entity坐标系还是世界坐标系。与mcstudio特效编辑器中粒子的“相对挂点运动”选项功能相同。

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | relative | bool | True表示相对坐标系，False表示世界坐标系 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(particleEntityId, "Minecraft", "particleControl")
    # 使用世界坐标系
    comp.SetRelative(False)
```

<span id="Stop"></span>
#### **Stop()**

- 描述

    停止粒子播放

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(particleEntityId, "Minecraft", "particleControl")
    comp.Stop()
```

<span id="particleEntityBind"></span>
### particleEntityBind

用于将粒子绑定到实体

<span id="Bind"></span>
#### **Bind(bindEntityId, offset, rot, correction)**

- 描述

    绑定entity

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bindEntityId | str | 绑定的entity的ID |
    | offset | (float,float,float) | 绑定的偏移量，相对绑定entity脚下中心 |
    | rot | (float,float,float) | 绑定的旋转角度 |
    | correction | bool | 默认不开启，开启后可以使特效的旋转角度准确设置为参照玩家的相对角度 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(frameEntityId, "Minecraft", "particleEntityBind")
    comp.Bind(entityId, (0, 1, 0), (0, 0, 0))
```

<span id="particleSkeletonBind"></span>
### particleSkeletonBind

用于将粒子绑定到骨骼模型

<span id="Bind"></span>
#### **Bind(modelId, boneName, offset, rot)**

- 描述

    绑定骨骼模型

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | modelId | int | 绑定的骨骼模型的ID（见model组件的GetModelId） |
    | boneName | str | 绑定具体骨骼的名称 |
    | offset | (float,float,float) | 绑定的偏移量 |
    | rot | (float,float,float) | 绑定的旋转角度 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(particleEntityId, "Minecraft", "particleSkeletonBind")
    comp.Bind(modelId, "root", (0, 1, 0), (0, 0, 0))
```

<span id="particleTrans"></span>
### particleTrans

用于设置粒子的transform属性

<span id="SetPos"></span>
#### **SetPos(pos)**

- 描述

    设置粒子的位置

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | pos | (float,float,float) | 世界坐标 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(frameEntityId, "Minecraft", "particleTrans")
    comp.SetPos((0, 5, 0))
```

<span id="SetRot"></span>
#### **SetRot(rot)**

- 描述

    设置粒子的旋转

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | pos | (float,float,float) | 按顺序绕局部坐标系的+x，+y，+z轴旋转的角度 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(frameEntityId, "Minecraft", "particleTrans")
    # 绕y轴旋转90度，然后绕旋转后的z轴旋转90度
    comp.SetRot((0, 90, 90))
```

<span id="音效"></span>
## [音效](../0-名词解释.md#音效)



<span id="systemAudio"></span>
### systemAudio

用于播放原版音效

<span id="Play"></span>
#### **Play(soundId, pos, entityType, blockId, isBaby, isGlobal)**

- 描述

    播放原版音效

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | soundId | SysSoundType | [SysSoundType](../../../99-参考资料/0-Minecraft枚举值文档.html#syssoundtype)枚举 |
    | pos | (float,float,float) | 播放位置 |
    | entityType | EntityType | [EntityType](../../../99-参考资料/0-Minecraft枚举值文档.html#entitytype)枚举 |
    | blockId | BlockType | [BlockType](../../../99-参考资料/0-Minecraft枚举值文档.html#blocktype)枚举 |
    | isBaby | bool | 是否幼儿 |
    | isGlobal | bool | 是否全局 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 播放是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "systemAudio")
    # 播放幼年鸡死亡的音效
    comp.Play(
            clientApi.GetMinecraftEnum().SysSoundType.Death,
            (0, 5, 0),
            clientApi.GetMinecraftEnum().EntityType.Chicken,
            -1,
            True,
            False
    )
    # 播放着地音效
    comp.Play(
            clientApi.GetMinecraftEnum().SysSoundType.FallBig,
            (0, 5, 0),
            clientApi.GetMinecraftEnum().EntityType.Undefined,
            clientApi.GetMinecraftEnum().BlockType.grass,
            False,
            False
    )
```

- 备注

  - 对于死亡音效，因为死亡跟block无关，因此blockId为-1，其他参数根据实际情况选择

  - 对于着地音效，与实体类型及幼儿属性无关，而着地到不同的block，音效是不一样的，根据实际情况设置blockId


<span id="控制"></span>
## [控制](../0-名词解释.md#控制)

<span id="actorMotion"></span>
### actorMotion

玩家的移动方向和大小

<span id="BeginSprinting"></span>
#### **BeginSprinting()**

- 描述

    使本地玩家进入并保持向前冲刺状态

- 返回值

    空

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(localPlayerId, "Minecraft", "actorMotion")
    comp.BeginSprinting()
```

<span id="EndSprinting"></span>
#### **EndSprinting()**

- 描述

    使本地玩家结束向前冲刺状态

- 返回值

    空

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(localPlayerId, "Minecraft", "actorMotion")
    comp.EndSprinting()
```

<span id="GetInputVector"></span>
#### **GetInputVector()**

- 描述

    获取方向键（移动轮盘）的输入

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | (float,float) | 返回一个单位向量，向量第一项为向左的大小，第二项为向前的大小 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(localPlayerId, "Minecraft", "actorMotion")
    left, up = comp.GetInputVector()
```

<span id="LockInputVector"></span>
#### **LockInputVector(inputVector)**

- 描述

    锁定本地玩家方向键（移动轮盘）的输入，可使本地玩家持续向指定方向前行，且不会再受玩家输入影响

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | inputVector | (float,float) | 输入向量，第一项控制向左的大小，第二项控制向前的大小。传入(0, 0)时玩家将会被强制固定在原地，不允许移动。 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否锁定成功，True:成功  False:失败 |

- 示例

```python
    import client.extraClientApi as clientApi
    # 使玩家向左前方持续移动
    localPlayerId = clientApi.GetLocalPlayerId()
    rotComp = clientApi.CreateComponent(localPlayerId, "Minecraft", "rot")
    motionComp = clientApi.CreateComponent(localPlayerId, "Minecraft", "actorMotion")
    motionComp.LockInputVector((1, 1))
```

- 备注

  - 传入的向量会被转化为单位向量，因此传入(10, 0)与传入(0.1, 0)效果相同


<span id="SetMotion"></span>
#### **SetMotion(motion)**

- 描述

    设置瞬时的移动方向向量，主要用于本地玩家

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | motion | (float,float,float) | 世界坐标系下的向量，该方向为世界坐标系下的向量，以x,z,y三个轴的正方向为正值，可以通过当前玩家的rot组件判断目前玩家面向的方向，可在开发模式下打开F3观察数值变化。 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    # 使玩家向准星的方向突进一段距离
    localPlayerId = clientApi.GetLocalPlayerId()
    rotComp = clientApi.CreateComponent(localPlayerId, "Minecraft", "rot")
    rot = rotComp.GetRot()
    x, y, z = clientApi.GetDirFromRot(rot)
    motionComp = clientApi.CreateComponent(localPlayerId, "Minecraft", "actorMotion")
    motionComp.SetMotion((x * 5, y * 5, z * 5))
    # rot 和 世界坐标系关系
    #                       ^ x -90°
    #                       |
    # 180°/-180  ----------> z 0°
    #                       | 90°
```

<span id="UnlockInputVector"></span>
#### **UnlockInputVector()**

- 描述

    解锁本地玩家方向键（移动轮盘）的输入

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否解锁成功，True:成功  False:失败 |

- 示例

```python
    import client.extraClientApi as clientApi
    # 解锁使用LockInputVector锁定的本地玩家方向键（移动轮盘）输入
    motionComp = clientApi.CreateComponent(localPlayerId, "Minecraft", "actorMotion")
    motionComp.UnlockInputVector()
```

<span id="mouseHook"></span>
### mouseHook

鼠标钩子，主要用来获取玩家点击鼠标的事件，进而修改点击鼠标之后的逻辑。

<span id="GetHook"></span>
#### **GetHook()**

- 描述

    获取当前是否开启了鼠标钩子

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否开启 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "mouseHook")
    isHook = comp.GetHook()
```

<span id="SetHook"></span>
#### **SetHook(hook)**

- 描述

    设置鼠标钩子。开启之后玩家点击鼠标会触发“OnClickInGame”事件

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | hook | bool | True为开启 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "mouseHook")
    # 开启鼠标钩子
    comp.SetHook(True)
```

<span id="operation"></span>
### operation

设置是否响应本地玩家的操作

<span id="SetCanAll"></span>
#### **SetCanAll(all)**

- 描述

    一次性设置除SetMoveLock之外的所有属性

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | all | bool | True为全部响应 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "operation")
    # 全部设置为不响应
    comp.SetCanAll(False)
```

- 备注

  - 要在其他属性设置之前设置，不然在all之前设置的会被覆盖掉


<span id="SetCanAttack"></span>
#### **SetCanAttack(attack)**

- 描述

    设置是否响应攻击

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | attack | bool | True为可攻击 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "operation")
    # 不响应攻击
    comp.SetCanAttack(False)
```

<span id="SetCanChat"></span>
#### **SetCanChat(chat)**

- 描述

    设置是否响应聊天按钮

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | chat | bool | True为可打开聊天页面 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "operation")
    # 不响应聊天按钮
    comp.SetCanChat(False)
```

<span id="SetCanDrag"></span>
#### **SetCanDrag(drag)**

- 描述

    设置是否响应屏幕拖动

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | drag | bool | True为可拖动屏幕 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "operation")
    # 不响应屏幕拖动
    comp.SetCanDrag(False)
```

<span id="SetCanInair"></span>
#### **SetCanInair(inair)**

- 描述

    设置是否响应上升下降按钮（飞在空中时右下角的三个按钮）

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | inair | bool | True为可点击 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "operation")
    # 不响应空中控制按钮
    comp.SetCanInair(False)
```

<span id="SetCanJump"></span>
#### **SetCanJump(jump)**

- 描述

    设置是否响应跳跃（以及在水中浮起）

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | jump | bool | True为可跳跃 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "operation")
    # 不响应跳跃
    comp.SetCanJump(False)
```

<span id="SetCanMove"></span>
#### **SetCanMove(move)**

- 描述

    设置是否响应移动

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | move | bool | True为可移动 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "operation")
    # 不响应移动
    comp.SetCanMove(False)
```

<span id="SetCanOpenInv"></span>
#### **SetCanOpenInv(open)**

- 描述

    设置是否响应打开背包按钮

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | open | bool | True为可打开背包 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "operation")
    # 不响应打开背包按钮
    comp.SetCanOpenInv(False)
```

<span id="SetCanPause"></span>
#### **SetCanPause(pause)**

- 描述

    设置是否响应暂停按钮

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | pause | bool | True为可打开暂停页面 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "operation")
    # 不响应暂停按钮
    comp.SetCanPause(False)
```

<span id="SetCanPerspective"></span>
#### **SetCanPerspective(persp)**

- 描述

    设置是否响应切换视角

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | persp | bool | True为可切换 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "operation")
    # 不响应切换视角
    comp.SetCanPerspective(False)
```

<span id="SetCanScreenShot"></span>
#### **SetCanScreenShot(shot)**

- 描述

    设置是否响应截图按钮

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | shot | bool | True为可截图 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "operation")
    # 不响应截图按钮
    comp.SetCanScreenShot(False)
```

<span id="SetCanWalkMode"></span>
#### **SetCanWalkMode(walkmode)**

- 描述

    设置是否响应切换行走模式

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | walkmode | bool | True为可切换 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "operation")
    # 不响应切换行走模式
    comp.SetCanWalkMode(False)
```

<span id="SetMoveLock"></span>
#### **SetMoveLock(movelock)**

- 描述

    设置是否锁住移动，与SetCanMove的区别：设置了SetCanMove(False)之后actorMotion组件的SetMotion会失效，而用moveLock为True则不会

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | movelock | bool | True为锁住 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "operation")
    # 锁住移动
    comp.SetMoveLock(True)
```

<span id="playerView"></span>
### playerView

视角模式相关

<span id="GetPerspective"></span>
#### **GetPerspective()**

- 描述

    获取当前的视角模式

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | 0：第一人称视角；1：第三人称视角；2：前视第三人称视角 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "playerView")
    persp = comp.GetPerspective()
```

<span id="GetUIProfile"></span>
#### **GetUIProfile()**

- 描述

    获取"UI 档案"模式

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | 0表示经典模式，1表示Pocket模式 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "playerView")
    profile = comp.GetUIProfile()
```

<span id="LockPerspective"></span>
#### **LockPerspective(persp)**

- 描述

    锁定玩家的视角模式

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | lock | int | 0：第一人称视角；1：第三人称视角；2：前视第三人称视角 其他值：解除锁定 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否锁定成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "playerView")
    comp.LockPerspective(1)
```

<span id="SetPerspective"></span>
#### **SetPerspective(persp)**

- 描述

    设置视角模式

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | persp | int | 0：第一人称视角；1：第三人称视角；2：前视第三人称视角 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "playerView")
    comp.SetPerspective(1)
```

<span id="方块"></span>
## [方块](../0-名词解释.md#方块)

<span id="blockInfo"></span>
### blockInfo

<span id="GetBlock"></span>
#### **GetBlock(pos)**

- 描述

    获取某一位置的block

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | pos | (float,float,float) | 方块位置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | tuple(str,int) | 参数1:方块的名称，参数2:方块的aux值 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(playerId, "Minecraft", "blockInfo")
    comp.GetBlock((x,y,z))
```

    
- 备注

  - 已经加载的地形才设置、获取方块信息


<span id="GetTopBlockData"></span>
#### **GetTopBlockData(pos)**

- 描述

    获取某一位置纵向高度上，雨雪可达的最上层的block

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | pos | (int,int,int) | 方块位置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | dict | 方块信息字典blockDict |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(playerId, "Minecraft", "blockInfo")
    blockDict = comp.GetTopBlockData((0, 5, 0))
```

- 备注

  - 已经加载的地形才能获取方块信息。本质上该方块即为雨雪可堆积的最上方的方块，包括空气、草、铁道、较低的积雪等“不占位置”的方块。

    方块信息字典 blockDict

    | 关键字     | 数据类型              | 说明     |
    | ----------| --------------------- | ---------|
    | name       | str | 必须设置，方块identifier，包含命名空间及名称，如minecraft:air |
    | aux  | int | 方块附加值，可缺省，默认为0 |
    | blockPos  | tuple | 方块的位置 |
    | height  | int | 可堆积的方块的高度，例如积雪的高度，从0到7分别表示1到8层积雪，8层为一个雪方块 |

原版方块的identifier可以在这里查找：https://minecraft-zh.gamepedia.com/基岩版数据值
<span id="界面"></span>
## [界面](../0-名词解释.md#界面)

<span id="fog"></span>
### fog

雾效渲染相关的组件，支持设置雾效颜色与范围

<span id="ResetFogColor"></span>
#### **ResetFogColor()**

- 描述

    重置雾效颜色

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "fog")
    comp.ResetFogColor()
```

<span id="ResetFogLength"></span>
#### **ResetFogLength()**

- 描述

    重置雾效范围

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "fog")
    comp.ResetFogLength()
```

<span id="SetFogColor"></span>
#### **SetFogColor(color)**

- 描述

    设置雾效颜色

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | color | (float,float,float,float) | 颜色RGBA，范围0到1之间，a值主要用于水下效果 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "fog")
    # 雾效设置为全白色
    comp.SetFogColor((1.0,1.0,1.0,1.0))
```

<span id="SetFogLength"></span>
#### **SetFogLength(start, end)**

- 描述

    设置雾效范围

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | start | float | 雾效起始距离 |
    | end | float | 雾效终点范围 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "fog")
    comp.SetFogLength(10, 50)
```

<span id="name"></span>
### name

生物名字相关

<span id="SetAlwaysShowName"></span>
#### **SetAlwaysShowName(show)**

- 描述

    设置生物名字是否一直显示，瞄准点不指向生物时也能显示

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | show | bool | True为显示 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 返回是否设置成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "name")
    # 不显示头上的名字
    comp.SetAlwaysShowName(False)
```

- 备注

  - 该接口只对普通生物生效，对玩家设置不起作用


<span id="SetShowName"></span>
#### **SetShowName(show)**

- 描述

    设置生物名字是否按照默认游戏逻辑显示

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | show | bool | True为显示 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 返回是否设置成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "name")
    # 不显示头上的名字
    comp.SetShowName(False)
```

- 备注

  - 当设置为true时，生物的名字显示遵循游戏默认的渲染逻辑，即普通生物需要中心点指向生物才显示名字，玩家则是会一直显示名字


<span id="skyRender"></span>
### skyRender

天空渲染相关的组件。**注意：末地、下界不支持此功能**

<span id="ResetAmbientBrightness"></span>
#### **ResetAmbientBrightness()**

- 描述

    重置环境光亮度

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "skyRender")
    comp.ResetAmbientBrightness()
```

<span id="ResetMoonRot"></span>
#### **ResetMoonRot()**

- 描述

    重置月亮角度

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "skyRender")
    comp.ResetMoonRot()
```

<span id="ResetSkyColor"></span>
#### **ResetSkyColor()**

- 描述

    重置天空颜色

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "skyRender")
    comp.ResetSkyColor()
```

<span id="ResetSkyTextures"></span>
#### **ResetSkyTextures()**

- 描述

    重置当前维度天空盒贴图。如果有使用addon配置贴图则会使用配置的贴图，否则为游戏内默认无贴图的情况

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "skyRender")
    comp.ResetSkyTextures()
```

<span id="ResetStarBrightness"></span>
#### **ResetStarBrightness()**

- 描述

    重置星星亮度

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "skyRender")
    comp.ResetStarBrightness()
```

<span id="ResetSunRot"></span>
#### **ResetSunRot()**

- 描述

    重置太阳角度

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "skyRender")
    comp.ResetSunRot()
```

<span id="SetAmbientBrightness"></span>
#### **SetAmbientBrightness(brightness)**

- 描述

    设置环境光亮度，影响天空亮度，不影响实体与方块光照

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | brightness | float | 范围0到1之间 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "skyRender")
    comp.SetAmbientBrightness(0.1)
```

<span id="SetMoonRot"></span>
#### **SetMoonRot(rot)**

- 描述

    设置月亮所在角度

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | rot | (float,float,float) | 第一个float表示日升日落，第三个float表示南北偏移。单位为角度 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "skyRender")
    comp.SetMoonRot((10, 0, 10))
```

<span id="SetSkyColor"></span>
#### **SetSkyColor(color)**

- 描述

    设置天空颜色

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | color | (float,float,float,float) | 颜色RGBA，0到1之间，目前a值暂时没用 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "skyRender")
    comp.SetSkyColor((0.5, 0.5, 0.8, 1.0))
```

<span id="SetSkyTextures"></span>
#### **SetSkyTextures(textureList)**

- 描述

    设置当前维度天空盒贴图，天空盒需要6张贴图

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | textureList | list | 需要为6张贴图的路径，路径为从textures目录开始的绝对路径，如果天空盒某个方向不需要设置，则传空字符串 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    # 贴图列表按顺序分别对应世界坐标的 负Z轴方向， 正X轴方向，正Z轴方向，负X轴方向，正Y轴方向，负Y轴方向。 其中正Y轴即为上方（采用右手坐标系）。
    textureList = ['', 'textures/environment/positiveX','textures/environment/positiveZ', '', 'textures/environment/positiveY', '']
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "skyRender")
    comp.SetSkyTextures(textureList)
```

- 备注

  - 游戏内切dimension的时候会重设天空盒贴图，因此开发者需要监听对应的切换维度事件(DimensionChangeClientEvent)进行贴图的处理。


<span id="SetStarBrightness"></span>
#### **SetStarBrightness(brightness)**

- 描述

    设置星星亮度，白天也可以显示星星

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | brightness | float | 范围0到1之间 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "skyRender")
    comp.SetStarBrightness(0.1)
```

<span id="SetSunRot"></span>
#### **SetSunRot(rot)**

- 描述

    设置太阳所在角度

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | rot | (float,float,float) | 第一个float表示日升日落，第三个float表示南北偏移。单位为角度 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "skyRender")
    comp.SetSunRot((10, 0, 10))
```

<span id="SkyTextures"></span>
#### **SkyTextures()**

- 描述

    修改太阳、月亮、云层分布、天空盒的贴图。使用addon配置，非python接口。

- 返回值

    空

- 备注

  - 游戏提供了重载贴图的方式来修改太阳、月亮、云层分布、天空盒的贴图。

    **末地和下界没有太阳月亮和云层，另外末地的天空是用一张贴图end_sky.png而不是天空盒贴图，end_sky.png要结合雾效颜色使用。下界暂不支持此功能**。具体路径为：

    | 贴图         | 路径                                                         |
    | ------------ | ------------------------------------------------------------ |
    | 太阳贴图     | modResource目录/textures/environment/{dimName}_sun.png       |
    | 月亮贴图     | modResource目录/textures/environment/{dimName}_moon_phases.png |
    | 云层分布贴图 | modResource目录/textures/environment/{dimName}_clouds.png    |
    | 天空盒贴图   | modResource目录/textures/environment/{dimName}_cubemap/cubemap_0.png |

其中：天空盒贴图需要放6张图，即最后需要包含```cubemap_0.png```到```cubemap_5.png```，而```{dimName}```表示dimension的名称，各个dimension名称如下：

    | dimension                   | 名称            |
    | --------------------------- | --------------- |
    | 末地                        | theend          |
    | 下界                        | nether          |
    | 上界                        | overworld       |
    | 其他复制出来的dimension镜像 | 从3到20的数字id |

示例：

    modResource/textures/environment/4_sun.png
    modResource/textures/environment/overworld_moon_phases.png
    modResource/textures/environment/3_clouds.png
    modResource/textures/environment/overworld_cubemap/cubemap_0.png # -z方向
    modResource/textures/environment/overworld_cubemap/cubemap_1.png #  x方向
    modResource/textures/environment/overworld_cubemap/cubemap_2.png #  z方向
    modResource/textures/environment/overworld_cubemap/cubemap_3.png # -x方向
    modResource/textures/environment/overworld_cubemap/cubemap_4.png #  y方向
    modResource/textures/environment/overworld_cubemap/cubemap_5.png # -y方向
    modResource/textures/environment/end_sky.png #末地天空渲染贴图


<span id="玩家"></span>
## [玩家](../0-名词解释.md#玩家)

<span id="camera"></span>
### camera

摄相机控制

<span id="DepartCamera"></span>
#### **DepartCamera()**

- 描述

    分离玩家与摄像机

- 返回值

    空

- 示例

```python
    import client.extraClientApi as clientApi
    # 第三人称锁定视角例子
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    comp.DepartCamera()
    comp.LockModCameraYaw(1) # 锁定左右视角
    comp.LockModCameraPitch(1) # 锁定上下视角
    comp.SetCameraOffset((0, 0, 15))
    comp.SetCameraRot((45.0, 0.0))
```

- 备注

  - 分离之后，可以看到玩家四周


<span id="GetCameraOffset"></span>
#### **GetCameraOffset()**

- 描述

    获取摄像机偏移量

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | tuple(float,float,float) | 偏移量 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    comp.GetCameraOffset()
```

<span id="GetCameraPitchLimit"></span>
#### **GetCameraPitchLimit()**

- 描述

    获取摄像机上下角度限制值

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | tuple(float,float) | 上下角度限制值 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    comp.GetCameraPitchLimit()
```

<span id="GetCameraRot"></span>
#### **GetCameraRot()**

- 描述

    获取相机转向

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | tuple(float,float) | 转向 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    rot = comp.GetCameraRot()
```

<span id="GetChosen"></span>
#### **GetChosen()**

- 描述

    获取屏幕点击位置的实体或方块信息，通常与GetEntityByCoordEvent配合使用

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | dict | 选中目标的数据，详见[PickFacing接口](3-客户端组件.html#pickfacing)的备注 |

- 示例

```python
    import client.extraClientApi as clientApi
    # 当玩家点击屏幕时获取点击位置的entityId
    class MyClientSystem(ClientSystem):
            def __init__(self, namespace, name):
                    ClientSystem.__init__(self, namespace, name)
                    self.ListenForEvent('Minecraft', 'Engine', 'GetEntityByCoordEvent', self, self.click)
            def click(self, args):
                    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
                    pickData = comp.GetChosen()
```

- 备注

  - 目前只有在第一人称视角才能准确获取


<span id="GetChosenEntity"></span>
#### **GetChosenEntity()**

- 描述

    获取屏幕点击位置的实体id，通常与GetEntityByCoordEvent配合使用

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | str | 实体id |

- 示例

```python
    # 当玩家点击屏幕时获取点击位置的entityId
    import client.extraClientApi as clientApi
    class MyClientSystem(ClientSystem):
            def __init__(self, namespace, name):
                    ClientSystem.__init__(self, namespace, name)
                    self.ListenForEvent('Minecraft', 'Engine', 'GetEntityByCoordEvent', self, self.click)
            def click(self, args):
                    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
                    entityId = comp.GetChosenEntity()
```

- 备注

  - 目前只有在第一人称视角才能准确获取


<span id="GetForward"></span>
#### **GetForward()**

- 描述

    返回相机向前的方向

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | tuple(float,float,float) | 向前的方向 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    comp.GetForward()
```

<span id="GetFov"></span>
#### **GetFov()**

- 描述

    获取视野大小

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | float | 即视频设置中的视野，单位为角度 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    fov = comp.GetFov()
```

<span id="GetFpHeight"></span>
#### **GetFpHeight()**

- 描述

    获取本地玩家当前状态下，第一人称视角时的摄像机高度偏移量。游泳时，滑翔时以及普通状态下会有所不同

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | float | 高度偏移量 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    heightOffset = comp.GetFpHeight()
```

<span id="GetPosition"></span>
#### **GetPosition()**

- 描述

    返回相机中心

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | tuple(float,float,float) | 相机中心位置 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    comp.GetPosition()
```

<span id="IsModCameraLockPitch"></span>
#### **IsModCameraLockPitch()**

- 描述

    是否锁定摄像机上下角度

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否锁定 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    comp.IsModCameraLockPitch()
```

<span id="IsModCameraLockYaw"></span>
#### **IsModCameraLockYaw()**

- 描述

    是否锁定摄像机左右角度

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否锁定 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    comp.IsModCameraLockYaw()
```

<span id="LockCamera"></span>
#### **LockCamera(lockPos, lockRot)**

- 描述

    锁定摄像机

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | lockPos | (float,float,float) | 世界坐标 |
    | lockRot | (float,float) | 摄像机的角度（俯仰角及偏航角） |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    # 把摄像机固定在(0, 6, 0)，并且30度俯视，朝向世界z轴正方向
    comp.LockCamera((0, 6, 0), (30, 0))
```

- 备注

  - 锁定摄像机时只是锁定画面视角，玩家仍然可以移动


<span id="LockModCameraPitch"></span>
#### **LockModCameraPitch(enable)**

- 描述

    锁定摄像机上下角度（第三人称下生效，锁定后不能上下调整视角）

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | enable | int | 1:锁定 0:解锁 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    comp.LockModCameraPitch(1)
```

<span id="LockModCameraYaw"></span>
#### **LockModCameraYaw(enable)**

- 描述

    锁定摄像机左右角度（第三人称下生效，锁定后不能通过鼠标左右调整视角）

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | enable | int | 1:锁定 0:解锁 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    comp.LockModCameraYaw(1)
```

<span id="PickFacing"></span>
#### **PickFacing()**

- 描述

    获取准星选中的实体或者方块

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | dict | 选中目标的数据，详见备注 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    pickData = comp.PickFacing()
```

- 备注

  - 选中目标为实体时，返回值为：

    ```python
    {
            "type": "Entity",
            "entityId":  entityId
    }
    ```

  - 选中目标为方块时，返回值为：

    ```python
    {
            "type": "Block",
            "x":  x,
            "y":  y,
            "z":  z,
            "face": face
    }
    ```

  - 没有选中目标时，返回值为：

    ```python
    {
            "type": "None"
    }
    ```


<span id="ResetCameraBindActorId"></span>
#### **ResetCameraBindActorId()**

- 描述

    重置将摄像机绑定到目标玩家身上

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    comp.ResetCameraBindActorId()
```

<span id="SetCameraBindActorId"></span>
#### **SetCameraBindActorId(targetId)**

- 描述

    将摄像机绑定到目标玩家身上（需要先DepartCamera，调用者与targetId必须在同一个dimension，同时需要在加载范围之内）

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | targetId | str | 目标玩家id |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    comp.DepartCamera()
    comp.SetCameraBindActorId('1234')
```

- 备注

  - 调用该接口时，脚本层需要处理绑定的目标实体不存在的情况（包括实体不存在或者死亡的情况）


<span id="SetCameraOffset"></span>
#### **SetCameraOffset(offset)**

- 描述

    设置摄像机偏移量

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | offset | tuple(float,float,float) | 偏移量 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    comp.SetCameraOffset((1, 1, 1))
```

<span id="SetCameraPitchLimit"></span>
#### **SetCameraPitchLimit(limit)**

- 描述

    设置摄像机上下角度限制值，默认是（-90，90）

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | limit | tuple(float,float) | 上下角度限制值 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    comp.DepartCamera()
    comp.SetCameraPitchLimit((-30, 30))
```

<span id="SetCameraPos"></span>
#### **SetCameraPos(pos)**

- 描述

    设置相机中心的位置

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | pos | tuple(float,float,float) | 位置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    comp.SetCameraPos((1, 1, 1))
```

<span id="SetCameraRot"></span>
#### **SetCameraRot(rot)**

- 描述

    设定相机转向

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | rot | tuple(float,float) | 转向 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    comp.SetCameraRot((1, 1))
```

<span id="SetFov"></span>
#### **SetFov(fov)**

- 描述

    设置视野大小

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | fov | float | 单位为角度 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    comp.SetFov(60)
```

<span id="SetSpeedFovLock"></span>
#### **SetSpeedFovLock(isLocked)**

- 描述

    是否锁定相机视野fov，锁定后不随速度变化而变化

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | isLocked | bool | 是否锁定 |

- 返回值

    空

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    comp.SetSpeedFovLock(True)
```

<span id="UnDepartCamera"></span>
#### **UnDepartCamera()**

- 描述

    绑定玩家与摄像机

- 返回值

    空

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    comp.UnDepartCamera()
```

- 备注

  - 绑定之后，只能看到玩家背部


<span id="UnLockCamera"></span>
#### **UnLockCamera()**

- 描述

    解除摄像机锁定

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "camera")
    comp.UnLockCamera()
```

<span id="player"></span>
### player

<span id="ClosePlayerHitBlockDetection"></span>
#### **ClosePlayerHitBlockDetection()**

- 描述

    关闭碰撞方块的检测，关闭后将不会触发OnPlayerHitBlockClientEvent事件

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "player")
    comp.ClosePlayerHitBlockDetection()
```

<span id="ClosePlayerHitMobDetection"></span>
#### **ClosePlayerHitMobDetection()**

- 描述

    关闭碰撞生物的检测，关闭后将不会触发OnPlayerHitMobClientEvent事件

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否关闭成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "player")
    comp.ClosePlayerHitMobDetection()
```

<span id="OpenPlayerHitBlockDetection"></span>
#### **OpenPlayerHitBlockDetection(precision)**

- 描述

    开启碰撞方块的检测，开启后碰撞时会触发OnPlayerHitBlockClientEvent事件

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | precision | float | 碰撞检测精度，参数需要在区间[0, 1) |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "player")
    comp.OpenPlayerHitBlockDetection(0.0001)
```

- 备注

  - 注：该碰撞检测会屏蔽草、空气、火、高草四种方块


<span id="OpenPlayerHitMobDetection"></span>
#### **OpenPlayerHitMobDetection()**

- 描述

    开启碰撞生物的检测，开启后碰撞时会触发OnPlayerHitMobClientEvent事件

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否开启成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "player")
    comp.OpenPlayerHitMobDetection()
```

<span id="序列帧"></span>
## [序列帧](../0-名词解释.md#序列帧)

<span id="frameAniControl"></span>
### frameAniControl

用于设置序列帧的播放控制相关属性

<span id="Play"></span>
#### **Play()**

- 描述

    播放序列帧

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(frameEntityId, "Minecraft", "frameAniControl")
    comp.Play()
```

<span id="SetDeepTest"></span>
#### **SetDeepTest(deepTest)**

- 描述

    设置序列帧是否透视，默认为否

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | deepTest | bool | False表示透视，则被物体/方块阻挡时仍然能看到序列帧 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(frameEntityId, "Minecraft", "frameAniControl")
    # 设置为透视
    comp.SetDeepTest(False)
```

<span id="SetFaceCamera"></span>
#### **SetFaceCamera(face)**

- 描述

    设置序列帧是否始终朝向摄像机，默认为是

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | face | bool | True表示朝摄像机 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(frameEntityId, "Minecraft", "frameAniControl")
    # 设置为不始终朝摄像机
    comp.SetFaceCamera(False)
```

<span id="SetLayer"></span>
#### **SetLayer(layer)**

- 描述

    设置序列帧渲染层级，默认层级为1，当层级不为1时表示该特效开启特效分层渲染功能。特效（粒子和帧动画）分层渲染时，层级越高渲染越靠后，层级大的会遮挡层级低的，且同一层级的特效会根据特效的相对位置产生正确的相互遮挡关系。

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | layer | int | 粒子渲染层级，总共包含0-15的层级。 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(frameEntityId, "Minecraft", "frameAniControl")
    # 设置为渲染层级为2
    comp.SetLayer(2)
```

- 备注

  - 该接口只针对序列帧进行设置，粒子特效请使用particleControl组件


<span id="SetLoop"></span>
#### **SetLoop(loop)**

- 描述

    设置序列帧是否循环播放，默认为否

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | loop | bool | True表示循环播放 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(frameEntityId, "Minecraft", "frameAniControl")
    # 设置为循环播放
    comp.SetLoop(True)
```

<span id="Stop"></span>
#### **Stop()**

- 描述

    停止序列帧（不是暂停）

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(frameEntityId, "Minecraft", "frameAniControl")
    comp.Stop()
```

<span id="frameAniEntityBind"></span>
### frameAniEntityBind

用于将序列帧绑定到实体

<span id="Bind"></span>
#### **Bind(bindEntityId, offset, rot)**

- 描述

    绑定entity

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bindEntityId | str | 绑定的entity的ID |
    | offset | (float,float,float) | 绑定的偏移量 |
    | rot | (float,float,float) | 绑定的旋转角度 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(frameEntityId, "Minecraft", "frameAniEntityBind")
    comp.Bind(entityId, (0, 1, 0), (0, 0, 0))
```

<span id="frameAniSkeletonBind"></span>
### frameAniSkeletonBind

用于将序列帧绑定到骨骼模型

<span id="Bind"></span>
#### **Bind(modelId, boneName, offset, rot)**

- 描述

    绑定骨骼模型

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | modelId | int | 绑定的骨骼模型的ID（见model组件的GetModelId） |
    | boneName | str | 绑定具体骨骼的名称 |
    | offset | (float,float,float) | 绑定的偏移量 |
    | rot | (float,float,float) | 绑定的旋转角度 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(frameEntityId, "Minecraft", "frameAniSkeletonBind")
    comp.Bind(modelId, "root", (0, 1, 0), (0, 0, 0))
```

<span id="frameAniTrans"></span>
### frameAniTrans

用于设置序列帧的transform属性

<span id="SetPos"></span>
#### **SetPos(pos)**

- 描述

    设置序列帧的位置

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | pos | (float,float,float) | 世界坐标 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(frameEntityId, "Minecraft", "frameAniTrans")
    comp.SetPos((0, 5, 0))
```

<span id="SetRot"></span>
#### **SetRot(rot)**

- 描述

    设置序列帧的旋转

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | rot | (float,float,float) | 按顺序绕局部坐标系的+x，-y，+z轴旋转的角度 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(frameEntityId, "Minecraft", "frameAniTrans")
    # 绕y轴旋转90度，然后绕旋转后的z轴旋转90度
    comp.SetRot((0, -90, 90))
```

- 备注


<span id="SetScale"></span>
#### **SetScale(scale)**

- 描述

    设置序列帧的缩放

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | scale | (float,float,float) | 第一个参数为贴图横向上的缩放，第二个参数为纵向上的缩放 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(frameEntityId, "Minecraft", "frameAniTrans")
    # 横向拉伸为2倍，纵向不变
    comp.SetScale((2, 1, 1))
```

- 备注


<span id="世界"></span>
## [世界](../0-名词解释.md#世界)

<span id="game"></span>
### game

游戏逻辑相关的组件

<span id="AddPickBlacklist"></span>
#### **AddPickBlacklist(entityId)**

- 描述

    添加使用camera组件选取实体时的黑名单，即该实体不会被选取到

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | entityId | str | 实体id |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "game")
    # 添加黑名单
    comp.AddPickBlacklist(entityId)
```

<span id="AddRepeatedTimer"></span>
#### **AddRepeatedTimer(delay, func)**

- 描述

    添加客户端触发的定时器，重复执行

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | delay | float | 延迟时间，单位秒 |
    | func | func | 定时器触发函数 |
    | *args | *args | 变长参数，可以不设置 |
    | **kwargs | **kwargs | 字典变长参数，可以不设置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | timer | 返回单次触发的定时器 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(clientApi.GetLevelId(), "Minecraft", "game")
    comp.AddRepeatedTimer(3.0,func,args,kwargs)
```

<span id="AddTimer"></span>
#### **AddTimer(delay, func)**

- 描述

    添加客户端触发的定时器，非重复

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | delay | float | 延迟时间，单位秒 |
    | func | func | 定时器触发函数 |
    | *args | *args | 变长参数，可以不设置 |
    | **kwargs | **kwargs | 字典变长参数，可以不设置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | timer | 返回单次触发的定时器 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(clientApi.GetLevelId(), "Minecraft", "game")
    comp.AddTimer(3.0,func,args,kwargs)
```

<span id="CancelTimer"></span>
#### **CancelTimer(timer)**

- 描述

    取消定时器

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | timer | timer对象 | AddOnceTimer和AddRepeatedTimer时返回的定时器对象 |

- 返回值

    空

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(clientApi.GetLevelId(), "Minecraft", "game")
    comp.CancelTimer(timer)
```

<span id="CheckNameValid"></span>
#### **CheckNameValid(name)**

- 描述

    检查昵称是否合法，即不包含敏感词

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | name | str | 昵称 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | true:昵称合法 false:昵称非法 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "game")
    isValid = comp.CheckNameValid("史蒂夫")
```

<span id="CheckWordsValid"></span>
#### **CheckWordsValid(words)**

- 描述

    检查语句是否合法，即不包含敏感词

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | words | str | 语句 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | true:语句合法 false:语句非法 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "game")
    isValid = comp.CheckWordsValid("creeper? Aww man")
```

<span id="ClearPickBlacklist"></span>
#### **ClearPickBlacklist()**

- 描述

    清除使用camera组件选取实体的黑名单

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "game")
    # 清除黑名单中所有实体
    comp.ClearPickBlacklist()
```

<span id="GetEntityInArea"></span>
#### **GetEntityInArea(entityId, pos_a, pos_b, exceptEntity)**

- 描述

    返回区域内的实体

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | entityId | str | 实体Id |
    | pos_a | (int,int,int) | 起点 |
    | pos_b | (int,int,int) | 终点，终点应大于起点 |
    | exceptEntity | bool | 返回结果中是否除去entityId, 默认为False |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | list/None | 成功返回列表，失败返回None |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "game")
    entities = comp.GetEntityInArea(entityId, (0,0,0), (1,2,3))
```

<span id="GetScreenSize"></span>
#### **GetScreenSize()**

- 描述

    获取游戏分辨率

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | (float,float) | 宽高（像素） |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "game")
    width, height = comp.GetScreenSize()
```

<span id="GetScreenViewInfo"></span>
#### **GetScreenViewInfo()**

- 描述

    获取游戏视角信息。分辨率为1313，618时，画布是376，250的2倍，所以viewport得到的是1313 + (2-(1313%2))，y值类似，可参考[《我的世界》界面适配方法](../../../../1-MC%20Studio开发工具/6-界面编辑器使用说明.html#《我的世界》界面适配方法)

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | (float,float,float,float) | 依次为宽、高、x偏移、y偏移 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "game")
    width, height, offsetX, offsetY= comp.GetScreenViewInfo()
```

<span id="HasEntity"></span>
#### **HasEntity(entityId)**

- 描述

    判断 entity 是否存在

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | entityId | str | 实体id |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | 0表示不存在，1表示存在 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "game")
    exist = comp.HasEntity(entityId)
```

<span id="SetNameDeeptest"></span>
#### **SetNameDeeptest(deeptest)**

- 描述

    设置名字是否透视

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | deeptest | bool | True为不透视。默认情况下为透视 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "game")
    # 设置为不透视
    comp.SetNameDeeptest(True)
```

<span id="SetPopupNotice"></span>
#### **SetPopupNotice(message, subtitle)**

- 描述

    在本地玩家的物品栏上方弹出popup类型通知，位置位于tip类型消息下方

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | message | str | 消息内容,可以在消息前增加extraClientApi.GenerateColor("RED")字符来设置颜色，具体参考样例 |
    | subtitle | str | 消息子标题内容,效果同message，也可设置颜色，位置位于message上方 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "game")
    comp.SetPopupNotice(clientApi.GenerateColor("RED") + "消息通知", "消息子标题")
```

<span id="SetRenderLocalPlayer"></span>
#### **SetRenderLocalPlayer(render)**

- 描述

    设置本地玩家是否渲染

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | render | bool | True为渲染 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "game")
    # 不渲染本地玩家
    comp.SetRenderLocalPlayer(False)
```

<span id="SetTipMessage"></span>
#### **SetTipMessage(message)**

- 描述

    在本地玩家的物品栏上方弹出tip类型通知，位置位于popup类型通知上方

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | message | str | 消息内容,可以在消息前增加extraClientApi.GenerateColor("RED")字符来设置颜色，具体参考样例 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "game")
    comp.SetTipMessage(clientApi.GenerateColor("RED") + "tip提示")
```

<span id="ShowHealthBar"></span>
#### **ShowHealthBar(show)**

- 描述

    设置是否显示血条

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | show | bool | True为显示。开启后可用health组件单独设置某个实体的血条颜色及是否显示 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(levelId, "Minecraft", "game")
    comp.ShowHealthBar(True)
```

<span id="物品"></span>
## [物品](../0-名词解释.md#物品)

<span id="item"></span>
### item

获取玩家左右手和背包的物品信息

<span id="GetCarriedItem"></span>
#### **GetCarriedItem()**

- 描述

    获取右手物品的信息

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | item字典 | item字典的具体结构见“使用说明”，没有物品则返回None |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "item")
    carriedData = comp.GetCarriedItem()
```

<span id="GetOffhandItem"></span>
#### **GetOffhandItem()**

- 描述

    获取左手物品的信息

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | item字典 | item字典的具体结构见“使用说明”，没有物品则返回None |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "item")
    offhandData = comp.GetOffhandItem()
```

<span id="GetSlotId"></span>
#### **GetSlotId()**

- 描述

    获取当前手持的快捷栏的槽id

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | 0到8 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "item")
    slotId = comp.GetSlotId()
```

<span id="实体"></span>
## [实体](../0-名词解释.md#实体)

<span id="actorCollidable"></span>
### actorCollidable

客户端用来控制玩家是否可碰撞

<span id="SetActorCollidable"></span>
#### **SetActorCollidable(isCollidable)**

- 描述

    设置实体是否可碰撞

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | isCollidable | int | 0:不可碰撞  1:可碰撞 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | True表示设置成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "actorCollidable")
    success = comp.SetActorCollidable(1)
```

<span id="actorRender"></span>
### actorRender

客户端用来控制实体是否渲染的组件

<span id="GetNotRenderAtAll"></span>
#### **GetNotRenderAtAll()**

- 描述

    获取实体是否不渲染

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | True表示不渲染 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "actorRender")
    notRender = comp.GetNotRenderAtAll()
```

<span id="SetNotRenderAtAll"></span>
#### **SetNotRenderAtAll(notRender)**

- 描述

    设置是否关闭实体渲染

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | notRender | bool | True表示不渲染该实体 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    # 不渲染单个实体 entityId
    comp = clientApi.CreateComponent(entityId, "Minecraft", "actorRender")
    comp.SetNotRenderAtAll(True)
    # 重新开始渲染该实体
    comp.SetNotRenderAtAll(False)
```

<span id="auxValue"></span>
### auxValue

用于获取弓箭和药水实体的数据值

<span id="GetAuxValue"></span>
#### **GetAuxValue()**

- 描述

    获取射出的弓箭或投掷出的药水的数据值

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | 具体数值见wiki的“箭”及“药水”页面 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "auxValue")
    auxValue = comp.GetAuxValue()
```

<span id="brightness"></span>
### brightness

客户端用来控制实体的亮度

<span id="SetBrightness"></span>
#### **SetBrightness(brightness)**

- 描述

    设置实体的亮度

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | brightness | float | 0：纯黑<br>1：正常亮度<br>1-14：较亮甚至纯白<br>超过14：通常为纯白，即使数值改变也没有明显变化 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | True:设置成功  False:设置失败 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "brightness")
    success = comp.SetBrightness(0.5)
```

- 备注

  - 目前只支持修改替换了骨骼模型的实体亮度，使用游戏原生模型的实体暂不予支持。


<span id="engineType"></span>
### engineType

获取实体在游戏中的类型id，详见[EntityType](../../../99-参考资料/0-Minecraft枚举值文档.html#entitytype)

<span id="GetEngineType"></span>
#### **GetEngineType()**

- 描述

    获取实体类型

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | EntityType | 详见[EntityType](../../../99-参考资料/0-Minecraft枚举值文档.html#entitytype) |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "engineType")
    entityType = comp.GetEngineType()
    # 以判断是否是 Mob 为例，如果要判断是否为弹射物，找到对应的类型Projectile修改即可
    if entityType & serverApi.GetMinecraftEnum().EntityType.Mob == serverApi.GetMinecraftEnum().EntityType.Mob:
            print "{} is Mod".format(comp.GetEngineTypeStr())
    # 或者通过Minecraft枚举值文档找到 Mob 的值为 0x00000100 即 256
    if entityType & 0x0000010 == 0x0000010:
            print "{} is Mod".format(comp.GetEngineTypeStr())
    if entityType & 256 == 256:
            print "{} is Mod".format(comp.GetEngineTypeStr())
```

<span id="GetEngineTypeStr"></span>
#### **GetEngineTypeStr()**

- 描述

    获取实体类型名称

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | str | 实体类型名称，如minecraft:husk |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "engineType")
    strType = comp.GetEngineTypeStr()
```

- 备注

  - 微软自定义实体只能通过engineTypeStr获取类型


<span id="health"></span>
### health

客户端用来设置血条颜色，血条背景相关的组件

<span id="SetColor"></span>
#### **SetColor(front, back)**

- 描述

    设置血条的颜色及背景色

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | front | (float,float,float,float) | 血条颜色的RGBA值，范围0-1 |
    | back | (float,float,float,float) | 背景颜色的RGBA值，范围0-1 |

- 返回值

    空

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "health")
    comp.SetColor((0, 0, 0, 1), (1, 1, 1, 1))
```

- 备注

  - 必须用game组件设置ShowHealthBar时才能显示血条！！


<span id="ShowHealth"></span>
#### **ShowHealth(show)**

- 描述

    设置某个entity是否显示血条，默认为显示

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | show | bool | 设置是否显示 |

- 返回值

    空

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "health")
    # 设置该entity不显示血条
    comp.ShowHealth(False)
```

- 备注

  - 必须用game组件设置ShowHealthBar时才能显示血条！！


<span id="modAttr"></span>
### modAttr

用于支持脚本层的属性管理

<span id="GetAttr"></span>
#### **GetAttr(paramName, defaultValue)**

- 描述

    获取属性值

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | paramName | str | 属性名称，str的名称建议以mod命名为前缀，避免多个mod之间冲突 |
    | defaultValue | PyObject | 属性默认值，属性不存在时返回该默认值，此时属性值依然未设置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | PyObject | 返回属性值 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "modAttr")
    comp.GetAttr('health')
```

- 备注

  - defaultValue不传的时候默认为None


<span id="RegisterUpdateFunc"></span>
#### **RegisterUpdateFunc(paramName, func)**

- 描述

    注册属性值变换时的回调函数，当属性变化时会调用该函数

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | paramName | str | 监听的属性名称 |
    | func | callable | 监听的回调函数 |

- 返回值

    空

- 示例

```python
    import client.extraClientApi as clientApi
    # 这个entityId传的是所需要监听的对象的Id
    comp = clientApi.CreateComponent(entityId, "Minecraft", "modAttr")
    comp.RegisterUpdateFunc('health', self.jumpingText)
    # 当脚本层的health属性变化时则会调用self.jumpingText
    def jumpingText(self, data):
            entityId = data['entityId']
            oldValue = data['oldValue']
            newValue = data['newValue']
```

- 备注

  - 回调函数需要接受一个参数，参数是dict，具体数据示例：{'oldValue': 0, 'newValue': 1, 'entityId': ’-433231231231‘}


<span id="SetAttr"></span>
#### **SetAttr(paramName, paramValue)**

- 描述

    设置客户端属性值

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | paramName | str | 属性名称，str的名称建议以mod命名为前缀，避免多个mod之间冲突 |
    | paramValue | PyObject | 属性值，支持python基础数据 |

- 返回值

    空

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "modAttr")
    comp.SetAttr('health', 1)
```

- 备注

  - 注意：这里设置了只在本地有效，并不会同步到服务端和其他客户端


<span id="UnRegisterUpdateFunc"></span>
#### **UnRegisterUpdateFunc(paramName, func)**

- 描述

    反注册属性值变换时的回调函数

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | paramName | str | 监听的属性名称 |
    | func | callable | 监听的回调函数 |

- 返回值

    空

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "modAttr")
    comp.UnRegisterUpdateFunc('health', self.jumpingText)
```

- 备注

  - 需要传注册时的同一个函数作为参数


<span id="pos"></span>
### pos

客户端用来获取实体位置的组件

<span id="GetPos"></span>
#### **GetPos()**

- 描述

    获取实体位置

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | (float,float,float) | 实体的坐标 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "pos")
    #获取位置：
    entityPos = comp.GetPos()
```

- 备注

  - 对于非玩家，获取到的是脚底部位的位置；对于玩家，获取到的是比脚底高1.62的位置（除了睡觉时）


<span id="rot"></span>
### rot

客户端用来获取实体角度的组件，也可以用来设置本地玩家自己的旋转角度

<span id="GetRot"></span>
#### **GetRot()**

- 描述

    获取实体角度

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | (float,float) | 俯仰角度及绕竖直方向的角度，单位是角度 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "rot")
    x, y = comp.GetRot()
```

<span id="SetRot"></span>
#### **SetRot(rot)**

- 描述

    设置实体的角度

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | rot | (float,float) | 俯仰角度及绕竖直方向的角度，单位是角度 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "rot")
    # 设为向上仰视45度，并朝向世界z轴正方向
    comp.SetRot((-45, 0))
```

- 备注

  - 只能设置localplayer，即本地玩家自己


<span id="文字面板"></span>
## [文字面板](../0-名词解释.md#文字面板)

<span id="textBoard"></span>
### textBoard

用于更新文字面板。文字面板的创建见“创建文字面板”

<span id="SetSize"></span>
#### **SetSize(size)**

- 描述

    修改跳字大小

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | size | float | 字体大小, 如果为负数则字体会倒过来 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | None | 无返回值 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(fontEntityId, "Minecraft", "textBoard")
    comp.SetSize(12.5)
```

<span id="SetTextColor"></span>
#### **SetTextColor(textColor)**

- 描述

    修改字体颜色

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | textColor | (float,float,float,float) | 颜色的RGBA值，范围0-1 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | None | 无返回值 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(fontEntityId, "Minecraft", "textBoard")
    comp.SetTextColor((0.5, 0.4, 0.3, 0.8))
```

<span id="UpdatePos"></span>
#### **UpdatePos(pos)**

- 描述

    更新文字面板的位置。创建文字面板后需要移动位置时使用

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | pos | (float,float,float) | 世界坐标 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(fontEntityId, "Minecraft", "textBoard")
    comp.UpdatePos((0, 7, 0))
```

<span id="模型"></span>
## [模型](../0-名词解释.md#模型)

<span id="model"></span>
### model

用于设置实体的骨骼模型及动画

<span id="Bind"></span>
#### **Bind(boneName, weapon)**

- 描述

    实体替换骨骼模型后，再往上其他挂接骨骼模型

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | boneName | str | 挂接的骨骼名称 |
    | weapon | str | 要挂接的骨骼模型名称 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    # 把名称为gun的骨骼模型挂接到rightHand骨骼上
    comp.Bind("rightHand", "gun")
```

<span id="BindEntityToEntity"></span>
#### **BindEntityToEntity(bindEntityId)**

- 描述

    绑定骨骼模型跟随其他entity,摄像机也跟随其他entity

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bindEntityId | str | 绑定跟随的实体Id |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | False表示失败，True表示成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    # 将entityId的实体绑定至bindEntityId的实体
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.BindEntityToEntity(bindEntityId)
```

- 备注

  - 本接口只实现视觉效果，本质上实体还是在原地，因此需要调用接口设置实体的位置到其他entity的位置上，否则当实体本身不在摄像机范围内的时候就会不进行渲染了。


<span id="CreateFreeModel"></span>
#### **CreateFreeModel(modelName)**

- 描述

    创建自由的模型（无需绑定Entity）

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | modelName | str | 模型名称 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | modelId | 创建成功返回 modelId，创建失败返回 0 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    model = comp.CreateFreeModel(modelName)
```

<span id="GetAnimLength"></span>
#### **GetAnimLength(aniName)**

- 描述

    获取某个骨骼动画的长度，单位为秒

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | str | 骨骼动画名称 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    # 获取run动画的长度
    animLength = comp.GetAnimLength('run')
```

<span id="GetBoneWorldPos"></span>
#### **GetBoneWorldPos(boneName)**

- 描述

    获取骨骼的坐标

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | boneName | str | 骨骼名称 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | (int,int,int) | 位置坐标 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    bPos = comp.GetBoneWorldPos(boneName)
```

<span id="GetEntityBoneWorldPos"></span>
#### **GetEntityBoneWorldPos(entityId, boneName)**

- 描述

    获取换了骨骼模型的实体的骨骼坐标

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | entityId | str | 实体id |
    | boneName | str | 骨骼名称 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | (int,int,int) | 位置坐标 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    bPos = comp.GetEntityBoneWorldPos(entityId, boneName)
```

<span id="GetModelId"></span>
#### **GetModelId()**

- 描述

    获取骨骼模型的Id，主要用于特效绑定骨骼模型

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | 当前骨骼模型实例的id |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    modelId = comp.GetModelId()
```

<span id="GetPlayingAnim"></span>
#### **GetPlayingAnim()**

- 描述

    获取当前播放的骨骼动画名称

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | str | 骨骼动画名称 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    playingAnim = comp.GetPlayingAnim()
```

<span id="HideModel"></span>
#### **HideModel(modelId)**

- 描述

    隐藏纯模型

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | modelId | int | 要隐藏的modelId |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | None | 无返回值 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.HideModel(modelId)
```

<span id="ModelPlayAni"></span>
#### **ModelPlayAni(modelId, aniName, isLoop)**

- 描述

    纯骨骼播放动作

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | modelId | int | 要设置的modelId |
    | aniName | str | 要设置的动画名称 |
    | isLoop | bool | 是否循环播放，默认为 False |

- 返回值

    空

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.ModelPlayAni(modelId, 'run', False)
```

<span id="PlayAnim"></span>
#### **PlayAnim(aniName, isLoop)**

- 描述

    播放骨骼动画

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | aniName | str | 动画名称 |
    | isLoop | bool | 是否循环播放 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.PlayAnim("run", True)
```

<span id="PlayBodyAnim"></span>
#### **PlayBodyAnim(bodyAniName, bodyIsLoop)**

- 描述

    上下半身分离时，对上半身播放动画

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bodyAniName | str | 骨骼动画名称 |
    | bodyIsLoop | bool | 是否循环播放 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.PlayBodyAnim("attack", False)
```

- 备注

  - 骨骼模型需要有一根名为“up”的骨骼，并且上半身的其他骨骼都以up为父骨骼


<span id="PlayLegAnim"></span>
#### **PlayLegAnim(legAniName, legIsLoop)**

- 描述

    上下半身分离时，对下半身播放动画

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | legAniName | str | 骨骼动画名称 |
    | legIsLoop | bool | 是否循环播放 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.PlayLegAnim("run", True)
```

- 备注

  - 骨骼模型需要有一根名为“down”的骨骼，并且下半身的其他骨骼都以down为父骨骼


<span id="RemoveFreeModel"></span>
#### **RemoveFreeModel(modelId)**

- 描述

    移除自由模型

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | modelId | int | 要移除的modelId |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否成功移除 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.RemoveFreeModel(modelId)
```

<span id="ResetBindEntity"></span>
#### **ResetBindEntity()**

- 描述

    取消目标entity的绑定实体，取消后不再跟随任何其他entity

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | False表示失败，True表示成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.ResetBindEntity()
```

<span id="ResetModel"></span>
#### **ResetModel()**

- 描述

    恢复实体为原版模型

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.ResetModel()
```

<span id="SetAnimSpeed"></span>
#### **SetAnimSpeed(aniName, speed)**

- 描述

    设置某个骨骼动画的播放速度

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | aniName | str | 骨骼动画名称 |
    | speed | float | 速度倍率 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    # run动作三倍速
    comp.SetAnimSpeed("run", 3.0)
```

<span id="SetEntityOpacity"></span>
#### **SetEntityOpacity(opacity)**

- 描述

    设置生物模型的透明度

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | opacity | float | 透明度值，取值范围为[0, 1] |

- 返回值

    空

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.SetEntityOpacity(0.2)
```

<span id="SetFreeModelBoundingBox"></span>
#### **SetFreeModelBoundingBox(modelId, min, max)**

- 描述

    设置模型包围盒

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | modelId | int | 要设置的modelId |
    | min | (float,float,float) | 包围盒最小点 |
    | max | (float,float,float) | 包围盒最大点 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 成功返回True，失败返回False |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.SetFreeModelBoundingBox(modelId, (-1, -0.9, -0.8), (1, 1, 1))
```

- 备注

  - min的元素一定要比对应的max的元素小。

  - 模型包围盒用于判断渲染剔除：判断一个模型要不要渲染，要看它在不在视野范围内，也就是看游戏摄像机的视锥体（摄像机拍到的范围）和这个包围盒有没有交集。有则说明在视野范围内，反之则不在视野范围内。进而可以剔除掉该模型，不进行渲染。


<span id="SetFreeModelPos"></span>
#### **SetFreeModelPos(modelId, x, y, z)**

- 描述

    设置自由模型的位置

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | modelId | int | 要设置的modelId |
    | x | float | 要设置的位置X轴参数 |
    | y | float | 要设置的位置Y轴参数 |
    | z | float | 要设置的位置Z轴参数 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否成功设置 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.SetFreeModelPos(modelId, 0, 0, 0)
```

<span id="SetFreeModelRot"></span>
#### **SetFreeModelRot(modelId, x, y, z)**

- 描述

    设置自由模型的方向

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | modelId | int | 要设置的modelId |
    | x | float | 沿X方向的旋转参数 |
    | y | float | 沿Y方向的旋转参数 |
    | z | float | 沿Z方向的旋转参数 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否成功设置 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.SetFreeModelRot(modelId, 0, 0, 0)
```

<span id="SetFreeModelScale"></span>
#### **SetFreeModelScale(modelId, x, y, z)**

- 描述

    设置自由模型的大小

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | modelId | int | 要设置的modelId |
    | x | float | 沿X方向的比例因子 |
    | y | float | 沿Y方向的比例因子 |
    | z | float | 沿Z方向的比例因子 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否成功设置 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.SetFreeModelScale(modelId, 1, 1, 1)
```

<span id="SetLegacyBindRot"></span>
#### **SetLegacyBindRot(enable)**

- 描述

    用于修复特效挂接到骨骼时的方向

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | enable | bool | 设置为False时，可以使特效与骨骼方向一致 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.SetLegacyBindRot(False)
```

- 备注

  - 在挂接特效前调用即可


<span id="SetModel"></span>
#### **SetModel(modelName)**

- 描述

    替换实体的骨骼模型

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | modelName | str | 骨骼模型的名称 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | 替换的骨骼模型实例的id。失败返回-1 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.SetModel("xuenv")
```

- 备注

  - 要恢复原版模型请使用ResetModel接口

  - 使用客户端组件更换模型不会同步及存盘，仅是纯客户端表现，如需要同步及存盘，请使用服务器的model组件


<span id="SetModelOffset"></span>
#### **SetModelOffset(offset)**

- 描述

    模型增加偏移量

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | offset | tuple(float,float,float) | 偏移向量 |

- 返回值

    空

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.SetModelOffset((0, 1, 0))
```

<span id="SetModelPerspectiveEffect"></span>
#### **SetModelPerspectiveEffect(isPerspective, color)**

- 描述

    设置模型透视效果。注：只对自定义骨骼模型生效

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | isPerspective | bool | 是否显示透视颜色 |
    | color | tuple(float,float,float,float) | 透视颜色的RGBA值，范围0-1 |

- 返回值

    空

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.SetModelPerspectiveEffect(True, (1, 0.9, 0, 0.2))
```

<span id="SetSkin"></span>
#### **SetSkin(skin)**

- 描述

    更换原版自定义皮肤

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | skin | str | 贴图路径，以textures\models为当前路径的相对路径 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.SetSkin("kagura")
```

- 备注

  - 会覆盖原有皮肤（包括4d皮肤）。但会被骨骼模型覆盖


<span id="SetTexture"></span>
#### **SetTexture(texture)**

- 描述

    替换骨骼模型的贴图

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | texture | str | 贴图路径，以textures\models为当前路径的相对路径 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.SetTexture("0steve")
```

<span id="ShowModel"></span>
#### **ShowModel(modelId)**

- 描述

    显示纯模型

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | modelId | int | 要显示的modelId |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | None | 无返回值 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.ShowModel(modelId)
```

<span id="StopBodyAnim"></span>
#### **StopBodyAnim()**

- 描述

    停止上半身动画

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.StopBodyAnim()
```

<span id="StopLegAnim"></span>
#### **StopLegAnim()**

- 描述

    停止下半身动画

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    comp.StopLegAnim()
```

<span id="UnBind"></span>
#### **UnBind(boneName)**

- 描述

    取消某个骨骼上挂接的所有骨骼模型

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | boneName | str | 骨骼名称 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import client.extraClientApi as clientApi
    comp = clientApi.CreateComponent(entityId, "Minecraft", "model")
    # 取消rightHand骨骼上挂接的骨骼模型
    comp.UnBind("rightHand")
```

