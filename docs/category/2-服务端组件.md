---
sidebarDepth: 1
---
# <span id="服务端组件"></span>服务端组件

<span id="音效"></span>
## [音效](../0-名词解释.md#音效)

<span id="systemAudio"></span>
### systemAudio

<span id="PlaySystemSound"></span>
#### **PlaySystemSound(playerId, soundId, pos, blockId, entityType, isBaby, isGlobal)**

- 描述

    播放游戏内原有内容

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | playerId | str | 玩家id |
    | soundId | SysSoundType | 详见[SysSoundType](../../../99-参考资料/0-Minecraft枚举值文档.html#syssoundtype) |
    | pos | (float,float,float) | 音源位置 |
    | blockId | BlockType | 详见[BlockType](../../../99-参考资料/0-Minecraft枚举值文档.html#blocktype) |
    | entityType | EntityType | 详见[EntityType](../../../99-参考资料/0-Minecraft枚举值文档.html#entitytype) |
    | isBaby | bool | 是否为幼儿音效 |
    | isGlobal | bool | 是否为全局 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    #播放鸡死亡音效
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "systemAudio")
    comp.PlaySystemSound(playerId,serverApi.GetMinecraftEnum().SysSoundType.Death, (x,y,z), serverApi.GetMinecraftEnum().BlockType.grass, serverApi.GetMinecraftEnum().EntityType.Chicken, False, False)
```

- 备注

  - 由于游戏中音效是通过事件触发的。例如：鸡的死亡音效：因为死亡跟block无关，因此 soundId -- Death, entityType -- Chicken, blockId -- -1

  - 着地音效：因为着地到不同的block，音效是不一样的， 因此 soundId -- Fall, entityType -- -1, blockId -- grass


<span id="指令"></span>
## [指令](../0-名词解释.md#指令)

<span id="command"></span>
### command

<span id="SetCommand"></span>
#### **SetCommand(cmdStr, playerId)**

- 描述

    使用游戏内指令

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | cmdStr | str | 指令 |
    | playerId | str | 玩家id:可选，如果playerId不设置，则随机选择玩家 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "command")
    comp.SetCommand("/tp @p 100 5 100")#传送指令
```

<span id="模型"></span>
## [模型](../0-名词解释.md#模型)

<span id="model"></span>
### model

<span id="GetModelName"></span>
#### **GetModelName()**

- 描述

    获取实体的模型名称

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | str | 模型名称 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "model")
    modelName = comp.GetModelName()
```

- 备注

  - 在服务端获取，客户端不生效


<span id="SetModel"></span>
#### **SetModel(modelName)**

- 描述

    设置骨骼模型

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | modelName | str | 模型名称,值为""时重置模型 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    #设置名称
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "model")
    comp.SetModel("xuenv")
```

<span id="SetModelOffset"></span>
#### **SetModelOffset(offset)**

- 描述

    设置骨骼模型相对于局部坐标系的偏移量，初始值为(0, 0, 0)

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | offset | (float,float,float) | 偏移量 |

- 返回值

    空

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "model")
    comp.SetModelOffset((0, 3, 0))
```

<span id="SetModelTexture"></span>
#### **SetModelTexture(texture)**

- 描述

    设置骨骼模型贴图

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | texture | str | 模型纹理 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "model")
    comp.SetModelTexture("Osteve")
```

<span id="SetUsingModelSkin"></span>
#### **SetUsingModelSkin()**

- 描述

    设置骨骼模型使用平台皮肤

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "model")
    comp.SetUsingModelSkin()
```

<span id="scale"></span>
### scale

<span id="GetEntityScale"></span>
#### **GetEntityScale()**

- 描述

    获取实体的放缩比例大小

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | scale | float 比例因子 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "scale")
    result = comp.GetEntityScale()
```

<span id="SetEntityScale"></span>
#### **SetEntityScale(entityId, scale)**

- 描述

    设置实体的放缩比例大小，设置比例过大会导致游戏卡顿，建议控制在20倍以内

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | entityId | str | 要设置的实体 |
    | scale | float | 比例因子 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | 成功返回1，失败返回-1 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "scale")
    result = comp.SetEntityScale(entityId, scale)
```

- 备注

  - 目前此功能只支持设置生物的骨骼模型，游戏原生实体（包括手持物品）的暂不做支持与维护


<span id="方块"></span>
## [方块](../0-名词解释.md#方块)

<span id="block"></span>
### block

<span id="RegisterBlockPatterns"></span>
#### **RegisterBlockPatterns(pattern, defines, result_actor_name)**

- 描述

    注册特殊方块组合

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | pattern | list | 方块组合位置 |
    | defines | dict | 方块组合类型 |
    | result_actor_name | str | 合成结果 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    comp = serverApi.CreateComponent(levelId, 'Minecraft', 'block')
    pattern = [
            ' # ',
            'XXX',
            ' X '
            ]
    defines ={
            '#': 'minecraft:gold_block',
            'X': 'minecraft:iron_block'
    }
    comp.RegisterBlockPatterns(pattern,defines,'minecraft:chicken')
    #该例子左中右下放铁块，上面放金块，会生成一只鸡
```

<span id="blockEntityData"></span>
### blockEntityData

管理自定义方块的自定义方块实体数据，若该自定义方块实体所在区块并未加载（附近没有玩家），可能无法成功修改。

<span id="GetBlockEntityData"></span>
#### **GetBlockEntityData(dimension, pos)**

- 描述

    用于获取可操作某个自定义方块实体数据的对象，操作方式与dict类似

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | dimension | int | 维度 |
    | pos | (int,int,int) | 方块所在位置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | object/None | 可操作该方块实体内数据的对象 |

- 示例

```python
    import server.extraServerApi as serverApi
    # 设置
    blockEntitycomp = serverApi.CreateComponent(levelId, "Minecraft", "blockEntityData")
    dimension = 0
    pos = (4, 3, 2)
    # GetBlockEntityData在某些情况下会返回None，对返回结果进行操作前务必先判断它是否为空
    blockEntityData = blockEntitycomp.GetBlockEntityData(dimension, pos)
    # 存储数据
    # 支持存储python基本数据类型(int/float/string/bool/dict/list)，不支持tuple，并且key必须为字符串
    # 存储list时，list内各项的数据类型应相同，否则将存储失败
    if blockEntityData:
            blockEntityData['value1'] = 10
            blockEntityData['value2'] = 3.5
            blockEntityData['value3'] = True
            blockEntityData['value4'] = "hello"
            blockEntityData['value5'] = {"v1": 10, "v2": 3.5, "v3": [0,1,2]}
            blockEntityData['value6'] = [True, False]
    # 读取数据
    if blockEntityData:
            value1 = blockEntityData['value1']
            value5 = blockEntityData['value5']
            # 不存在于方块实体中的数据将返回None
            valueNone = blockEntityData['valueNone']
```

- 备注

  - GetBlockEntityData返回None通常是由于该方块所在区块未加载、正在退出游戏、该方块不是自定义方块或该自定义方块的json中并未配置netease:block_entity组件。<br>在对GetBlockEntityData返回对象进行操作前，请先判断它是否为空，否则会导致```'NoneType' object has no attribute '__getitem__'```错误。

  - 支持python基本数据类型(int/float/string/bool/dict/list)，不支持tuple且**dict的key必须为字符串**

  - **存储list时，list内各项的数据类型应相同，否则将存储失败**。如[True, False]可成功存储，[True, 1, 0.5]会存储失败

  - **虽然返回的对象操作与dict相似，但并不支持嵌套存储，只允许形如blockEntityData['key'] = value的直接赋值。如blockEntityData["value5"] ["v1"] = 9或blockEntityData["value6"].append(True)的操作将无法成功存储数据。**


<span id="blockInfo"></span>
### blockInfo

<span id="CheckBlockToPos"></span>
#### **CheckBlockToPos(fromPos, toPos)**

- 描述

    判断位置之间是否有方块

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | fromPos | tuple(float,float,float) | 起始位置 |
    | toPos | tuple(float,float,float) | 终止位置 |

- 返回值

    空

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, "Minecraft", "blockInfo")
    if comp.CheckBlockToPos((0, 0, 0), (1, 1, 1)):
            print "(0, 0, 0)与(1, 1, 1)之间有方块"
```

<span id="GetBlockLightLevel"></span>
#### **GetBlockLightLevel(pos)**

- 描述

    获取方块位置的光照等级

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | pos | (int,int,int) | 方块位置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | 光照等级 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, "Minecraft", "blockInfo")
    lightlevel = comp.GetBlockLightLevel((x,y,z))
```

<span id="GetBlockNew"></span>
#### **GetBlockNew(pos)**

- 描述

    获取某一位置的block

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | pos | (int,int,int) | 方块位置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | dict | 方块信息字典，详见[SetBlockNew](2-服务端组件.html#setblocknew-pos-blockdict)的备注 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, "Minecraft", "blockInfo")
    blockDict = comp.GetBlockNew((0, 5, 0))
```

- 备注

  - 已经加载的地形才能获取方块信息


<span id="GetTopBlockData"></span>
#### **GetTopBlockData(pos)**

- 描述

    获取某一位置纵向高度上，雨雪可达的最上层的block

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | pos | (int,int,int) | 方块位置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | dict | 方块信息字典blockDict |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, "Minecraft", "blockInfo")
    blockDict = comp.GetTopBlockData((0, 5, 0))
```

- 备注

  - 已经加载的地形才能获取方块信息。本质上该方块即为雨雪可堆积的最上方的方块，包括空气、草、铁道、较低的积雪等“不占位置”的方块。

    方块信息字典 blockDict

    | 关键字     | 数据类型              | 说明     |
    | ----------| --------------------- | ---------|
    | name       | str | 必须设置，方块identifier，包含命名空间及名称，如minecraft:air |
    | aux  | int | 方块附加值，可缺省，默认为0 |
    | blockPos  | tuple | 方块的位置 |
    | height  | int | 可堆积的方块的高度，例如积雪的高度，从0到7分别表示1到8层积雪，8层为一个雪方块 |

原版方块的identifier可以在这里查找：https://minecraft-zh.gamepedia.com/基岩版数据值
<span id="SetBlockNew"></span>
#### **SetBlockNew(pos, blockDict)**

- 描述

    设置某一位置的方块

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | pos | (int,int,int) | 方块位置 |
    | blockDict | dict | 方块信息字典 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, "Minecraft", "blockInfo")  # 此处playerId为block的设置者
    blockDict = {
            'name': 'minecraft:wool',
            'aux': 5
    }
    comp.SetBlockNew((0, 5, 0), blockDict)
```

- 备注

  - 已经加载的地形才能设置方块

    方块信息字典 blockDict

    | 关键字     | 数据类型              | 说明     |
    | ----------| --------------------- | ---------|
    | name       | str | 必须设置，方块identifier，包含命名空间及名称，如minecraft:air |
    | aux  | int | 方块附加值，可缺省，默认为0 |

  - 原版方块的identifier可以查看[官方wiki](https://minecraft-zh.gamepedia.com/基岩版数据值)

  - **若使用SetBlockNew接口替换含方块实体的方块，除自定义方块实体外，当替换前后方块实体类型相同时，其方块实体内数据不会发生改变。**

    例如在箱子中放置了物品，使用SetBlockNew接口将箱子方块替换为箱子方块后，新的箱子中依然保留旧箱子内的物品。<br>要避免这种情况，中间添加一次不同方块实体类型（或不含方块实体）的方块替换即可。比如先将箱子替换为空气，再将空气替换为箱子。
<span id="blockUseEventWhiteList"></span>
### blockUseEventWhiteList

管理方块对ServerBlockUseEvent/ClientBlockUseEvent事件在脚本层的监听

<span id="AddBlockItemListenForUseEvent"></span>
#### **AddBlockItemListenForUseEvent(blockName)**

- 描述

    增加blockName方块对ServerBlockUseEvent/ClientBlockUseEvent事件的脚本层监听

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | blockName | str | 方块名称，格式：namespace:name:auxvalue，其中namespace:name:*匹配所有的auxvalue |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否增加成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "blockUseEventWhiteList")
    comp.AddBlockItemListenForUseEvent("minecraft:nether_brick_stairs:2")
    # 注意blockName格式为namespace:name:auxvalue，如果不填auxvalue，则默认为0
    # auxValue详细值详见官方wiki，如https://minecraft-zh.gamepedia.com/楼梯 中的‘方块数据值’
```

<span id="ClearAllListenForBlockUseEventItems"></span>
#### **ClearAllListenForBlockUseEventItems()**

- 描述

    清空所有已添加方块对ServerBlockUseEvent/ClientBlockUseEvent事件的脚本层监听

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否清空成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "blockUseEventWhiteList")
    comp.ClearAllListenForBlockUseEventItems()
```

<span id="RemoveBlockItemListenForUseEvent"></span>
#### **RemoveBlockItemListenForUseEvent(blockName)**

- 描述

    移除blockName方块对ServerBlockUseEvent/ClientBlockUseEvent事件的脚本层监听

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | blockName | str | 方块名称，格式：namespace:name:auxvalue，其中namespace:name:*匹配所有的auxvalue |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否移除成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "blockUseEventWhiteList")
    comp.RemoveBlockItemListenForUseEvent("minecraft:nether_brick_stairs:2")
    # 注意blockName格式为namespace:name:auxvalue，如果不填auxvalue，则默认为0
    # auxValue详细值详见官方wiki，如https://minecraft-zh.gamepedia.com/楼梯 中的‘方块数据值’
```

<span id="玩家"></span>
## [玩家](../0-名词解释.md#玩家)

<span id="exp"></span>
### exp

<span id="AddPlayerExperience"></span>
#### **AddPlayerExperience(exp)**

- 描述

    修改玩家经验值

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | exp | int | 玩家经验值，可设置负数 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "exp")
    comp.AddPlayerExperience(25)
```

    
- 备注

  - 如果设置的exp值为负数，且超过当前等级已有的经验值，调用接口后，该玩家等级不会下降但是经验值会置为最小值


<span id="GetPlayerExp"></span>
#### **GetPlayerExp(isPercent)**

- 描述

    获取玩家经验值

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | isPercent | bool | 是否为百分比 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | float | 玩家经验值 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "exp")
    comp.GetPlayerExp(false)
```

- 备注

  - 如果设置返回百分比为false，则返回玩家当前等级下经验的绝对值（非当前玩家总经验值）。


<span id="lv"></span>
### lv

<span id="AddPlayerLevel"></span>
#### **AddPlayerLevel(level)**

- 描述

    修改玩家等级

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | level | int | 玩家等级，可设置负数 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "lv")
    comp.AddPlayerLevel(2)
```

<span id="GetPlayerLevel"></span>
#### **GetPlayerLevel()**

- 描述

    获取玩家等级

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | 玩家等级 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "lv")
    comp.GetPlayerLevel()
```

<span id="player"></span>
### player

<span id="ClosePlayerCritBox"></span>
#### **ClosePlayerCritBox()**

- 描述

    关闭玩家爆头，关闭后将无法触发ProjectileCritHitEvent事件。

- 返回值

    空

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "player")
    comp.ClosePlayerCritBox()
```

<span id="ClosePlayerHitBlockDetection"></span>
#### **ClosePlayerHitBlockDetection()**

- 描述

    关闭碰撞方块的检测，关闭后将不会触发OnPlayerHitBlockServerEvent事件

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "player")
    comp.ClosePlayerHitBlockDetection()
```

<span id="ClosePlayerHitMobDetection"></span>
#### **ClosePlayerHitMobDetection()**

- 描述

    关闭碰撞生物的检测，关闭后将不会触发OnPlayerHitMobServerEvent事件

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否关闭成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "player")
    comp.ClosePlayerHitMobDetection()
```

<span id="EnableKeepInventory"></span>
#### **EnableKeepInventory(enable)**

- 描述

    设置玩家死亡不掉落物品

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | enable | bool | 是否开启“保留物品栏” |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, "Minecraft", "player")
    succ = comp.EnableKeepInventory(True)
```

<span id="GetPlayerHunger"></span>
#### **GetPlayerHunger()**

- 描述

    获取玩家饥饿度，展示在UI饥饿度进度条上，初始值为20，即每一个鸡腿代表2个饥饿度。 **饱和度(saturation)** ：玩家当前饱和度，初始值为5，最大值始终为玩家当前饥饿度(hunger)，该值直接影响玩家**饥饿度(hunger)**。<br>1）增加方法：吃食物。<br>2）减少方法：每触发一次**消耗事件**，该值减少1，如果该值不大于0，直接把玩家 **饥饿度(hunger)** 减少1。

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | float | 玩家饥饿度 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "player")
    comp.GetPlayerHunger()
```

<span id="GetPlayerMaxExhaustionValue"></span>
#### **GetPlayerMaxExhaustionValue()**

- 描述

    获取玩家foodExhaustionLevel的归零值，常量值，默认为4。**消耗度（exhaustion）**是指玩家当前消耗度水平，初始值为0，该值会随着玩家一系列动作（如跳跃）的影响而增加，当该值大于最大消耗度（maxExhaustion）后归零，并且把饱和度（saturation）减少1（为了说明饥饿度机制，我们将此定义为**消耗事件**）

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | float | 玩家foodExhaustionLevel的归零值 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "player")
    comp.GetPlayerMaxExhaustionValue()
```

<span id="OpenPlayerCritBox"></span>
#### **OpenPlayerCritBox()**

- 描述

    开启玩家爆头，开启后才能触发ProjectileCritHitEvent事件。

- 返回值

    空

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "player")
    comp.OpenPlayerCritBox()
```

<span id="OpenPlayerHitBlockDetection"></span>
#### **OpenPlayerHitBlockDetection(precision)**

- 描述

    开启碰撞方块的检测，开启后碰撞时会触发OnPlayerHitBlockServerEvent事件

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | precision | float | 碰撞检测精度，参数需要在区间[0, 1) |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "player")
    comp.OpenPlayerHitBlockDetection(0.0001)
```

- 备注

  - 注：该碰撞检测会屏蔽草、空气、火、高草四种方块


<span id="OpenPlayerHitMobDetection"></span>
#### **OpenPlayerHitMobDetection()**

- 描述

    开启碰撞生物的检测，开启后碰撞时会触发OnPlayerHitMobServerEvent事件

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否开启成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "player")
    comp.OpenPlayerHitMobDetection()
```

<span id="SetPickUpArea"></span>
#### **SetPickUpArea(area)**

- 描述

    设置玩家的拾取物品范围，设置后该玩家的拾取物品范围会在原版拾取范围的基础上进行改变。

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | area | (float,float,float) | 拾取物品范围，传入(0, 0, 0)时视作取消设置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, "Minecraft", "player")
    # 玩家拾取物品范围在X轴正负方向各增加5格，在Z轴正负方向各增加3格，在Y轴保持不变
    succ = comp.SetPickUpArea((5, 0, 3))
```

<span id="SetPlayerGameType"></span>
#### **SetPlayerGameType(gameType)**

- 描述

    设置玩家个人游戏模式

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | gameType | int | GetMinecraftEnum().GameType.*:Survival，Creative，Adventure分别为0~2 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, "Minecraft", "player")
    comp.SetPlayerGameType(1)
```

<span id="SetPlayerHunger"></span>
#### **SetPlayerHunger(value)**

- 描述

    设置玩家饥饿度。

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | value | float | 饥饿度 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "player")
    comp.SetPlayerHunger(10)
```

<span id="SetPlayerJumpable"></span>
#### **SetPlayerJumpable(isJumpable)**

- 描述

    设置玩家是否可跳跃

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | isJumpable | bool | 是否可跳跃,True允许跳跃，False禁止跳跃 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, "Minecraft", "player")
    comp.SetPlayerJumpable(False)
```

<span id="SetPlayerMaxExhaustionValue"></span>
#### **SetPlayerMaxExhaustionValue(value)**

- 描述

    设置玩家foodExhaustionLevel的归零值，通过调整 **最大消耗度(maxExhaustion)** 的大小，就可以加快或者减慢 **饥饿度(hunger)** 的消耗，当 **最大消耗度(maxExhaustion)** 很大时，饥饿度可以看似一直不下降

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | value | float | foodExhaustionLevel的归零值 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "player")
    comp.SetPlayerMaxExhaustionValue(10.0)
```

<span id="SetPlayerMovable"></span>
#### **SetPlayerMovable(isMovable)**

- 描述

    设置玩家是否可移动

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | isMovable | bool | 是否可移动,True允许移动，False禁止移动 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, "Minecraft", "player")
    comp.SetPlayerMovable(False)
```

<span id="世界"></span>
## [世界](../0-名词解释.md#世界)

<span id="chunkSource"></span>
### chunkSource

<span id="CheckChunkState"></span>
#### **CheckChunkState(dimention, pos)**

- 描述

    判断指定位置的chunk是否加载完成

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | dimention | int | chunk所在维度 |
    | pos | tuple(int,int,int) | 指定位置的坐标 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 加载是否完成 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "chunkSource")
    comp.CheckChunkState(0, (0, 0, 0))
```

<span id="DeleteAllArea"></span>
#### **DeleteAllArea()**

- 描述

    删除所有长加载区域

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | key | str | 长加载区域的名称 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | 删除的区域数目，错误时为None |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "chunkSource")
    comp.DeleteAllArea()
```

<span id="DeleteArea"></span>
#### **DeleteArea(key)**

- 描述

    删除一个长加载区域

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | key | str | 长加载区域的名称 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 删除是否成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "chunkSource")
    comp.DeleteArea('Area0')
```

<span id="GetAllAreaKeys"></span>
#### **GetAllAreaKeys()**

- 描述

    获取所有长加载区域名称列表

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | List[str] | 名称列表list |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "chunkSource")
    comp.GetAllAreaKeys()
```

<span id="SetAddArea"></span>
#### **SetAddArea(key, dimensionId, minPos, maxPos)**

- 描述

    设置区块的长加载

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | key | str | 长加载区域的名称 |
    | dimensionId | int | 区块所在的维度 |
    | minPos | tuple(int,int,int) | 加载区域的最小坐标 |
    | maxPos | tuple(int,int,int) | 加载区域的最大坐标 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "chunkSource")
    comp.SetAddArea('Area0', 0, (0,0,0), (60,0,60))
```

- 备注

  - key必须唯一，若添加区域时key已存在将添加失败

    该方式创建的长加载区域不会tick，也不会加载存档的生物。并且可以使用api创建实体，但暂不支持block的设置及获取。但如果区域已被加载过，玩家远离时区域内的实体会一直保持加载。若需要区域被tick，请使用原版[tickingarea指令](https://minecraft-zh.gamepedia.com/%E5%91%BD%E4%BB%A4/tickingarea)
<span id="explosion"></span>
### explosion

<span id="CreateExplosion"></span>
#### **CreateExplosion(pos, radius, fire, breaks, sourceId, playerId)**

- 描述

    用于生成爆炸

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | pos | tuple(float,float,float) | 爆炸位置 |
    | radius | int | 爆炸半径 |
    | fire | bool | 是否带火 |
    | breaks | bool | 是否破坏方块 |
    | sourceId | str | 爆炸伤害源的实体id |
    | playerId | str | 爆炸创造的实体id |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "explosion")
    comp.CreateExplosion((50,50,50),10,True,True,sourceId,playerId)
```

<span id="game"></span>
### game

<span id="AddRepeatedTimer"></span>
#### **AddRepeatedTimer(delay, func)**

- 描述

    添加服务端触发的定时器，重复执行

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | delay | float | 延迟时间，单位秒 |
    | func | func | 定时器触发函数 |
    | *args | *args | 变长参数，可以不设置 |
    | **kwargs | **kwargs | 字典变长参数，可以不设置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | timer | 返回单次触发的定时器 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(serverApi.GetLevelId(), "Minecraft", "game")
    comp.AddRepeatedTimer(3.0,func,args,kwargs)
```

<span id="AddTimer"></span>
#### **AddTimer(delay, func)**

- 描述

    添加服务端触发的定时器，非重复

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | delay | float | 延迟时间，单位秒 |
    | func | func | 定时器触发函数 |
    | *args | *args | 变长参数，可以不设置 |
    | **kwargs | **kwargs | 字典变长参数，可以不设置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | timer | 返回单次触发的定时器 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(serverApi.GetLevelId(), "Minecraft", "game")
    comp.AddTimer(3.0,func,args,kwargs)
```

<span id="CanSee"></span>
#### **CanSee(fromId, targetId, viewRange, onlySolid, angleX, angleY)**

- 描述

    判断起始对象是否可看见目标对象,基于对象的Head位置判断

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | fromId | str | 起始对象ID |
    | targetId | str | 目标对象ID |
    | viewRange | float | 视野距离,默认值8.0 |
    | onlySolid | bool | 只判断固体方块遮挡,默认True; False则液体方块也会遮挡 |
    | angleX | float | 视野X轴角度,默认值180.0度 |
    | angleY | float | 视野Y轴角度,默认值180.0度 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否可见 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "game")
    comp.CanSee(entityId,targetId,20.0,True,180.0,180.0)
```

<span id="CancelTimer"></span>
#### **CancelTimer(timer)**

- 描述

    取消定时器

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | timer | timer对象 | AddTimer和AddRepeatedTimer时返回的定时器对象 |

- 返回值

    空

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(serverApi.GetLevelId(), "Minecraft", "game")
    comp.CancelTimer(timer)
```

<span id="CheckNameValid"></span>
#### **CheckNameValid(name)**

- 描述

    检查昵称是否合法，即不包含敏感词

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | name | str | 昵称 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | true:昵称合法 false:昵称非法 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(serverApi.GetLevelId(), "Minecraft", "game")
    isValid = comp.CheckNameValid("史蒂夫")
```

<span id="CheckWordsValid"></span>
#### **CheckWordsValid(words)**

- 描述

    检查语句是否合法，即不包含敏感词

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | words | str | 语句 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | true:语句合法 false:语句非法 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(serverApi.GetLevelId(), "Minecraft", "game")
    isValid = comp.CheckWordsValid("creeper? Aww man")
```

<span id="DisableVineBlockSpread"></span>
#### **DisableVineBlockSpread(disable)**

- 描述

    设置是否禁用藤曼蔓延生长

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | disable | bool | true:禁用 false:非禁用 |

- 返回值

    空

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "game")
    comp.DisableBineBlockSpread(disable)
```

<span id="GetEntitiesAround"></span>
#### **GetEntitiesAround(entityId, radius, filters)**

- 描述

    获取区域内的entity列表

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | entityId | str | 某个entityId |
    | radius | int | 正方体区域半径 |
    | filters | dict | 过滤设置字典 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | List[str] | 返回entityId的list |

- 示例

```python
    #利用过滤器获取玩家身边的entity
    #样例中的过滤器表示满足“是玩家”或者“没有头戴南瓜帽”的entity
    filters = {
            "any_of": [
                    {
                            "subject" : "other",
                            "test" :  "is_family",
                            "value" :  "player"
                    },
                    {
                            "test" :  "has_equipment",
                            "domain": "head",
                            "subject" : "other",
                            "operator" : "not",
                            "value" : "carved_pumpkin"
                    }
            ]
    }
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "game")
    comp.GetEntitiesAround(entityId, 100, filters)
```

<span id="GetEntitiesAroundByType"></span>
#### **GetEntitiesAroundByType(entityId, radius, entityType)**

- 描述

    获取区域内的某类型的entity列表

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | entityId | str | 区域中心的entityId,如某个玩家的entityid |
    | radius | int | 区域半径 |
    | entityType | int | 实体类型参见枚举EntityType |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | List[str] | 返回entityId的list |

- 示例

```python
    import server.extraServerApi as serverApi
    # ItemEntity的类型EngineType是64,获取身边的ItemEntity列表
    comp = serverApi.CreateComponent(levelId, "Minecraft", "game")
    comp.GetEntitiesAroundByType(entityId, 100, 64)
```

<span id="GetEntitiesInSquareArea"></span>
#### **GetEntitiesInSquareArea(entityId, startPos, endPos)**

- 描述

    获取区域内的entity列表

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | entityId | str | 某个entityId |
    | startPos | tuple(int,int,int) | 初始位置 |
    | endPos | tuple(int,int,int) | 结束位置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | List[str] | 返回entityId的list |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "game")
    comp.GetEntitiesInSquareArea(entityId, (0,0,0), (100,100,100))
```

<span id="GetEntityIdentifier"></span>
#### **GetEntityIdentifier(entityId)**

- 描述

    获取实体entity的identifier标识名称

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | entityId | str | 要获取的目标的entityId |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | str | identifier标识符,例如:"minecraft:item" |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "game")
    comp.GetEntityIdentifier(entityId)
```

<span id="GetGameDiffculty"></span>
#### **GetGameDiffculty()**

- 描述

    获取游戏难度

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | GetMinecraftEnum().GameDiffculty.*:Peaceful，Easy，Normal，Hard分别为0~3 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "game")
    diffculty = comp.GetGameDiffculty()
```

<span id="GetGameRulesInfoServer"></span>
#### **GetGameRulesInfoServer()**

- 描述

    获取游戏规则

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | gameRule | 字典 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "game")
    type = comp.GetGameRulesInfoServer()
    #返回值如下
    {
    'create_info': {
            'bonus_item': bool,
            'init_with_map': bool,
            'generator_type': int,
            'seed': str,
            },
    'option_info': {
            'pvp': bool,
            'show_coordinates': bool,
            'fire_spreads': bool,
            'tnt_explodes': bool,
            'mob_loot': bool,
            'natural_regeneration': bool,
            'tile_drops': bool,
            'experimental_gameplay': bool,
            },
    'cheat_info': {
            'enable': bool,
            'always_day': bool,
            'mob_griefing': bool,
            'keep_inventory': bool,
            'weather_cycle': bool,
            'mob_spawn': bool,
            'entities_drop_loot': bool,
            'daylight_cycle': bool,
            'command_blocks_enabled': bool,
            'random_tick_speed': int,
            }
    }
```

    
- 备注

  - 游戏规则字典 gameRule见代码注释


<span id="GetGameType"></span>
#### **GetGameType()**

- 描述

    获取游戏类型

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | GetMinecraftEnum().GameType.*:Survival，Creative，Adventure分别为0~2 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "game")
    type = comp.GetGameType()
```

<span id="GetItemEntityItemIdentifier"></span>
#### **GetItemEntityItemIdentifier(entityId)**

- 描述

    获取ItemEntity的Item的identifier标识名称

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | entityId | str | 要获取的目标的entityId |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | str | identifier标识符,例如:"minecraft:apple" |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "game")
    comp.GetItemEntityItemIdentifier(entityId)
```

<span id="GetLevelGravity"></span>
#### **GetLevelGravity()**

- 描述

    获取重力因子

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | float | 重力因子 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "game")
    comp.GetLevelGravity()
```

<span id="GetPlayerGameType"></span>
#### **GetPlayerGameType(playerId)**

- 描述

    获取指定玩家的游戏模式

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | playerId | str | 玩家id |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | GameType类型 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "game")
    gameType = comp.GetPlayerGameType(playerId)
```

<span id="IsLockDifficulty"></span>
#### **IsLockDifficulty()**

- 描述

    获取当前世界的游戏难度是否被锁定

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | isLock True为已锁定，False为未锁定 |

- 示例

```python
    import server.extraServerApi as serverApi
    gameComp = serverApi.CreateComponent(levelId, 'Minecraft', 'game')
    isLock = gameComp.IsLockDifficulty()
```

<span id="KillEntity"></span>
#### **KillEntity(entityId)**

- 描述

    杀死某个Entity

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | entityId | str | 要杀死的目标的entityId |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否杀死成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "game")
    comp.KillEntity(entityId)
```

<span id="LockDifficulty"></span>
#### **LockDifficulty(lock)**

- 描述

    锁定当前世界游戏难度（仅本次游戏有效），锁定后任何玩家在游戏内都无法通过指令或暂停菜单修改游戏难度

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | lock | bool | True:锁定 False:解锁 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | result是否操作成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    gameComp = serverApi.CreateComponent(levelId, 'Minecraft', 'game')
    gameComp.LockDifficulty(True)
```

<span id="PickUpItemEntity"></span>
#### **PickUpItemEntity(playerEntityId, itemEntityId)**

- 描述

    某个Player拾取物品ItemEntity

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | playerEntityId | str | 拾取者的playerEntityId |
    | itemEntityId | str |  要拾取的物品itemEntityId |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否拾取成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "game")
    comp.PickUpItemEntity(itemEntityId,playerEntityId)
```

<span id="PlaceStructure"></span>
#### **PlaceStructure(playerId, pos, structureName)**

- 描述

    放置结构

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | playerId | str | 放置该结构的玩家id |
    | pos | tuple | (float,float,float)放置结构的位置 |
    | structureName | str | 结构名称 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否放置成功，True为放置成功，False为放置失败 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(serverApi.GetLevelId(), "Minecraft", "game")
    comp.PlaceStructure(playerId, (100, 70, 100), "test:structureName")
```

- 备注

  - 放置时需要确保所放置的区块都已加载，否则会放置失败或者部分缺失


<span id="SetDefaultGameType"></span>
#### **SetDefaultGameType(gameType)**

- 描述

    设置默认游戏模式

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | gameType | int | GetMinecraftEnum().GameType.*:Survival，Creative，Adventure分别为0~2 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, "Minecraft", "game")
    # 设置创造模式为默认游戏模式
    comp.SetDefaultGameType(1)
```

<span id="SetDisableContainers"></span>
#### **SetDisableContainers(isDisable)**

- 描述

    设置是否屏蔽容器交互(不包括背包)，不包括纯客户端逻辑控制的容器：纱布机，切石机，制图台等

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | isDisable | bool | 是否屏蔽容器交互 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "game")
    comp.SetDisableContainers(True)
```

<span id="SetDisableDropItem"></span>
#### **SetDisableDropItem(isDisable)**

- 描述

    设置禁止丢弃物品

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | isDisable | bool | 是否禁止丢弃物品 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    # 1、开启开关后，玩家死亡会所有物品消失；如需保证物品不掉落，可以配合/gamerule keepInventory true 使用
    # 2、创造模式下物品依然能丢弃。
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "game")
    comp.SetDisableDropItem(True)
```

<span id="SetDisableGravityInLiquid"></span>
#### **SetDisableGravityInLiquid(isDisable)**

- 描述

    是否屏蔽所有实体在液体（水、岩浆）中的重力

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | isDisable | bool | True:屏蔽 False:取消屏蔽 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "game")
    comp.SetDisableGravityInLiquid(True)
```

- 备注

  - 设置屏蔽实体在液体中的重力后，实体将不能上浮也不能下潜。**对玩家而言，当水/岩浆淹没腰部及以上时（约在水面/岩浆表面0.7格及以下），将无法上岸。**


<span id="SetDisableHunger"></span>
#### **SetDisableHunger(isDisable)**

- 描述

    设置是否屏蔽饥饿度

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | isDisable | bool | 是否屏蔽饥饿度 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "game")
    comp.SetDisableHunger(True)
```

<span id="SetGameRulesInfo"></span>
#### **SetGameRulesInfo(gameRuleDict)**

- 描述

    设置游戏规则。所有参数均可选。

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | gameRuleDict | dict | 游戏规则字典 |

- 返回值

    空

- 示例

```python
    ###游戏规则字典说明
    gameRuleDict ={
            'option_info': {
                    'pvp': bool, #玩家伤害
                    'show_coordinates': bool, #显示坐标
                    'fire_spreads': bool, #火焰蔓延
                    'tnt_explodes': bool, #tnt爆炸
                    'mob_loot': bool, #生物战利品
                    'natural_regeneration': bool, #自然生命恢复
                    'tile_drops': bool, #方块掉落
                    'immediate_respawn':bool #作弊开启
                    },
            'cheat_info': {
                    'enable': bool, #终为白日
                    'always_day': bool, #生物破坏
                    'mob_griefing': bool, #保留物品栏
                    'keep_inventory': bool, #天气更替
                    'weather_cycle': bool, #生物生成
                    'mob_spawn': bool, #实体掉落
                    'entities_drop_loot': bool, #开启昼夜交替
                    'daylight_cycle': bool, #启用方块命令
                    'command_blocks_enabled': bool, #随机方块tick速度
                    'random_tick_speed': int,
            }
    }
    ###
    ruleDict ={
            'cheat_info': {
                    'enable': True,
                    'always_day': True,
    
            }
    }
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "game")
    comp.SetGameRulesInfo(ruleDict)
```

    
- 备注

  - 该接口在Apollo和联机大厅下不生效，联机大厅生效的为SetGameRulesInfoServer接口

  - 其中游戏规则字典中每一项都为可选参数,但是设置option_info或者cheat_info其中一项子项后，必须加上option_info或者cheat_info


<span id="SetGameRulesInfoServer"></span>
#### **SetGameRulesInfoServer(gameRuleDict)**

- 描述

    设置游戏规则。所有参数均可选。

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | gameRuleDict | dict | 游戏规则字典 |

- 返回值

    空

- 示例

```python
    ###游戏规则字典说明
    gameRuleDict ={
    'option_info': {
            'pvp': bool, #玩家伤害
            'show_coordinates': bool, #显示坐标
            'fire_spreads': bool, #火焰蔓延
            'tnt_explodes': bool, #tnt爆炸
            'mob_loot': bool, #生物战利品
            'natural_regeneration': bool, #自然生命恢复
            'tile_drops': bool, #方块掉落
            'immediate_respawn':bool #作弊开启
            },
    'cheat_info': {
            'enable': bool, #终为白日
            'always_day': bool, #生物破坏
            'mob_griefing': bool, #保留物品栏
            'keep_inventory': bool, #天气更替
            'weather_cycle': bool, #生物生成
            'mob_spawn': bool, #实体掉落
            'entities_drop_loot': bool, #开启昼夜交替
            'daylight_cycle': bool, #启用方块命令
            'command_blocks_enabled': bool, #随机方块tick速度
            'random_tick_speed': int,
            }
    }
    ###
    ruleDict ={
            'cheat_info': {
                    'enable': True,
                    'always_day': True,
    
            }
    }
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "game")
    comp.SetGameRulesInfoServer(ruleDict)
```

    
- 备注

  - 其中游戏规则字典中每一项都为可选参数,但是设置option_info或者cheat_info其中一项子项后，必须加上option_info或者cheat_info


<span id="SetHurtCD"></span>
#### **SetHurtCD(cdTime)**

- 描述

    设置伤害CD

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | cdTime | int | 单位帧数 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "game")
    comp.SetHurtCD(1)
```

<span id="SetLevelGravity"></span>
#### **SetLevelGravity(data)**

- 描述

    设置重力因子

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | data | float | 重力因子 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    #生物可单独设置重力因子，当生物的重力因子非0时则该生物单独有自己的重力因子，具体参见实体重力组件
    comp = serverApi.CreateComponent(levelId, "Minecraft", "game")
    comp.SetLevelGravity(-0.08)
```

<span id="SetNotifyMsg"></span>
#### **SetNotifyMsg(msg, color)**

- 描述

    设置消息通知

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | msg | str | 消息内容 |
    | color | extraServerApi.GenerateColor | 颜色默认白色 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "game")
    comp.SetNotifyMsg("消息通知")
```

<span id="SetOnePopupNotice"></span>
#### **SetOnePopupNotice(playerId, message, subtitle)**

- 描述

    在具体某个玩家的物品栏上方弹出popup类型通知，位置位于tip类型消息下方，此功能更建议客户端使用game组件的对应接口SetPopupNotice

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | playerId | str | 具体玩家Id |
    | message | str | 消息内容,可以在消息前增加extraServerApi.GenerateColor("RED")字符来设置颜色，具体参考样例 |
    | subtitle | str | 消息子标题内容,效果同message，也可设置颜色，位置位于message上方 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, "Minecraft", "game")
    # playerId 变量改为具体的玩家Id
    comp.SetOnePopupNotice(playerId, serverApi.GenerateColor("RED") + "消息通知", "消息子标题")
```

<span id="SetOneTipMessage"></span>
#### **SetOneTipMessage(playerId, message)**

- 描述

    在具体某个玩家的物品栏上方弹出tip类型通知，位置位于popup类型通知上方，此功能更建议在客户端使用game组件的对应接口SetTipMessage

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | playerId | str | 具体玩家Id |
    | message | str | 消息内容,可以在消息前增加extraServerApi.GenerateColor("RED")字符来设置颜色，具体参考样例 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, "Minecraft", "game")
    # playerId 变量改为具体的玩家Id
    comp.SetOneTipMessage(playerId, serverApi.GenerateColor("RED") + "tip提示")
```

<span id="SetPopupNotice"></span>
#### **SetPopupNotice(message, subtitle)**

- 描述

    在所有玩家物品栏上方弹出popup类型通知，位置位于tip类型消息下方

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | message | str | 消息内容,可以在消息前增加extraServerApi.GenerateColor("RED")字符来设置颜色，具体参考样例 |
    | subtitle | str | 消息子标题内容,效果同message，也可设置颜色，位置位于message上方 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "game")
    comp.SetPopupNotice(serverApi.GenerateColor("RED") + "消息通知", "消息子标题")
```

<span id="SetTipMessage"></span>
#### **SetTipMessage(message)**

- 描述

    在所有玩家物品栏上方弹出tip类型通知，位置位于popup类型通知上方

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | message | str | 消息内容,可以在消息前增加extraServerApi.GenerateColor("RED")字符来设置颜色，具体参考样例 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "game")
    comp.SetTipMessage(serverApi.GenerateColor("RED") + "tip提示")
```

<span id="feature"></span>
### feature

管理PlaceNeteaseStructureFeatureEvent事件在脚本层的监听

<span id="AddNeteaseFeatureWhiteList"></span>
#### **AddNeteaseFeatureWhiteList(structureName)**

- 描述

    添加结构对PlaceNeteaseStructureFeatureEvent事件的脚本层监听

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | structureName | str | 结构的identifier |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否增加成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "feature")
    # 注意structureName格式为floderName:structureName
    comp.AddNeteaseFeatureWhiteList("test:pumpkins")
```

<span id="ClearAllNeteaseFeatureWhiteList"></span>
#### **ClearAllNeteaseFeatureWhiteList()**

- 描述

    清空所有已添加Netease Structure Feature对PlaceNeteaseStructureFeatureEvent事件的脚本层监听

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否清空成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "feature")
    comp.ClearAllNeteaseFeatureWhiteList()
```

<span id="RemoveNeteaseFeatureWhiteList"></span>
#### **RemoveNeteaseFeatureWhiteList(structureName)**

- 描述

    移除structureName对PlaceNeteaseStructureFeatureEvent事件的脚本层监听

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | structureName | str | 结构名称 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否移除成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "feature")
    # 注意structureName格式为floderName:structureName
    comp.RemoveNeteaseFeatureWhiteList("test:pumpkins")
```

<span id="time"></span>
### time

<span id="GetTime"></span>
#### **GetTime()**

- 描述

    获取当前世界时间

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | 当前时间，帧数 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "time")
    comp.GetTime()
```

<span id="SetTime"></span>
#### **SetTime(time)**

- 描述

    设置当前世界时间

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | time | int | 时间，单位帧数，游戏一天24000帧，可以通过设置时间来改变天亮和天黑以及其他 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "time")
    comp.SetTime(10000)
```

<span id="weather"></span>
### weather

<span id="IsRaining"></span>
#### **IsRaining()**

- 描述

    获取是否下雨

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否下雨 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "weather")
    comp.IsRaining()
```

<span id="IsThunder"></span>
#### **IsThunder()**

- 描述

    获取是否打雷

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否打雷 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "weather")
    comp.IsThunder()
```

<span id="SetRaining"></span>
#### **SetRaining(level, time)**

- 描述

    设置是否下雨

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | level | float | 下雨强度 |
    | time | int | 下雨时间单位为帧 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "weather")
    comp.SetRaining(0.5,1000)
```

<span id="SetThunder"></span>
#### **SetThunder(level, time)**

- 描述

    设置是否打雷

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | level | float | 打雷强度 |
    | time | int | 打雷时间单位为帧 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "weather")
    comp.SetThunder(0.5,1000)set_lightning
```

<span id="物品"></span>
## [物品](../0-名词解释.md#物品)

<span id="chestBlock"></span>
### chestBlock

<span id="GetChestBoxItem"></span>
#### **GetChestBoxItem(playerId, pos, slotPos)**

- 描述

    获取箱子物品

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | playerId | str | 玩家id |
    | pos | (int,int,int) | 箱子位置 |
    | slotPos | int | 箱子槽位 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | itemDict | 物品信息字典，没有物品则返回None |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId,'Minecraft','chestBlock')
    comp.GetChestBoxItem(playerId, (x,y,z), 0)
```

    
- 备注

  - 物品信息字典 itemDict

    | 关键字     | 数据类型              | 说明     |
    | ----------| --------------------- | ---------|
    | itemName       | str | 物品的identifier |
    | showInHand |bool| 是否显示在手上，默认为true |
    | count  | int | 数量 |
    |auxValue| int| 物品附加值 |
    |enchantData| list | 附魔数据                             |
    |customTips| str | 物品的自定义tips |
    |extraId| str | 物品自定义标识符。可以用于保存数据， 区分物品 |


<span id="GetChestBoxSize"></span>
#### **GetChestBoxSize(playerId, pos)**

- 描述

    获取箱子容量大小

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | playerId | str | 玩家id |
    | pos | (int,int,int) | 箱子位置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | 箱子大小,错误值-1 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId,'Minecraft','chestBlock')
    comp.GetChestBoxSize(playerId,(x,y,z))
```

<span id="SetChestBoxItemNum"></span>
#### **SetChestBoxItemNum(playerId, pos, slotPos, num)**

- 描述

    设置箱子槽位物品数目

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | playerId | str | 玩家id |
    | pos | (int,int,int) | 箱子位置 |
    | slotPos | int | 箱子槽位 |
    | num | int | 箱子数目 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId,'Minecraft','chestBlock')
    comp.SetChestBoxItemNum(playerId,(x,y,z)，0，10)
```

<span id="SpawnItemToChestBlock"></span>
#### **SpawnItemToChestBlock(itemDict, playerId, slotPos, blockPos)**

- 描述

    添加物品到箱子

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | itemDict | dict | 物品字典 |
    | playerId | str | 玩家id |
    | slotPos | int | 箱子槽位 |
    | blockPos | (int,int,int) | 箱子位置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    itemDict = {
            'itemName': 'minecraft:bow',
            'count': 1,
            'enchantData': [(serverApi.GetMinecraftEnum().EnchantType.BowDamage, 1),],
            'auxValue': 0,
            'customTips':'§c new item §r',
            'extraId': 'abc'
    }
    comp = serverApi.CreateComponent(playerId,'Minecraft','chestBlock')
    comp.SpawnItemToChestBlock(itmeDict, playerId,0,(x,y,z))
```

    
- 备注

  - 物品信息字典 itemDict

    | 关键字     | 数据类型              | 说明     |
    | ----------| --------------------- | ---------|
    | itemName       | str | 物品的identifier，若设置为空为"minecraft:air" |
    | count  | int | 必须设置 数量 |
    |auxValue| int| 必须设置 物品附加值 |
    | showInHand |bool| 可选设置 是否显示在手上，默认为true |
    |enchantData| list | 可选设置 附魔数据                             |
    |customTips| str | 可选设置 物品的自定义tips |
    |extraId| str | 可选设置 物品自定义标识符。可以用于保存数据， 区分物品 |


<span id="itembanned"></span>
### itembanned

<span id="AddBannedItem"></span>
#### **AddBannedItem(itemName)**

- 描述

    增加禁用物品

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | itemName | str | 物品标识符，格式[namespace:name:auxvalue]，auxvalue默认为0，auxvalue为*时候匹配任意auxvalue值。例如：minecraft:egg（也可以通过填写配置文件config/banned_items.json进行启动禁用） |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否增加成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent('', "Minecraft", "itembanned")
    comp.AddBannedItem("minecraft:egg")
```

<span id="ClearBannedItems"></span>
#### **ClearBannedItems()**

- 描述

    清空禁用物品

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否清空成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent('', "Minecraft", "itembanned")
    comp.ClearBannedItems()
```

<span id="RemoveBannedItem"></span>
#### **RemoveBannedItem(itemName)**

- 描述

    移除禁用物品

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | itemName | str | 物品标识符，格式[namespace:name:auxvalue]，auxvalue默认为0，auxvalue为*时候匹配任意auxvalue值。 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否移除成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent('', "Minecraft", "itembanned")
    comp.RemoveBannedItem("minecraft:stained_glass:2")
```

<span id="item"></span>
### item

<span id="AddEnchantToInvItem"></span>
#### **AddEnchantToInvItem(slotPos, enchantType, level)**

- 描述

    给物品栏的物品添加附魔信息

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | slotPos | int | 物品栏槽位 |
    | enchantType | int | 附魔类型，可以查看枚举值文档 |
    | level | int | 附魔等级 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, 'Minecraft', 'item')
    comp.AddEnchantToInvItem(0, serverApi.GetMinecraftEnum().EnchantType.BowDamage, 2)
```

<span id="ChangePlayerItemTipsAndExtraId"></span>
#### **ChangePlayerItemTipsAndExtraId(posType, slotPos, customTips, extraId)**

- 描述

    修改玩家物品的自定义tips和自定义标识符

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | posType | ItemPosType | [ItemPosType](../../../99-参考资料/0-Minecraft枚举值文档.html#itempostype)枚举 |
    | slotPos | int | 箱子槽位 |
    | customTips | str | 物品的自定义tips |
    | extraId | str | 物品的自定义标识符 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = self.CreateComponent(playerId, 'Minecraft', 'item')
    comp.ChangePlayerItemTipsAndExtraId(serverApi.GetMinecraftEnum().ItemPosType.INVENTORY, 0, "自定义tips", "自定义标识符")
```

<span id="GetEquItemDurability"></span>
#### **GetEquItemDurability(slotPos)**

- 描述

    获取装备槽位中盔甲的耐久值

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | slotPos | int | [ArmorSlotType](../../../99-参考资料/0-Minecraft枚举值文档.html#armorslottype)枚举 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | 盔甲的耐久值 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId,'Minecraft','item')
    comp.GetEquItemDurability(serverApi.GetMinecraftEnum().ArmorSlotType.HEAD)
```

- 备注

  - 如果物品不存在，返回值为None


<span id="GetInvItemDurability"></span>
#### **GetInvItemDurability(slotPos)**

- 描述

    获取背包物品的耐久值

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | slotPos | int | 物品槽位 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | 物品的耐久值 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId,'Minecraft','item')
    comp.GetInvItemDurability(0)
```

- 备注

  - 如果物品不存在，返回值为None。当slot值为-1时，获取左手物品的耐久值


<span id="GetInvItemEnchantData"></span>
#### **GetInvItemEnchantData(slotPos)**

- 描述

    获取物品栏的物品附魔信息

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | slotPos | int | 物品栏槽位 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | list[tuple(EnchantType,int)] | EnchantType：附魔类型，见[枚举值文档](../../../99-参考资料/0-Minecraft枚举值文档.html#enchanttype)；int：附魔等级。没有附魔则为空list |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, 'Minecraft', 'item')
    comp.GetInvItemEnchant(0)
```

<span id="GetPlayerItem"></span>
#### **GetPlayerItem(posType, slotPos)**

- 描述

    获取玩家物品

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | posType | ItemPosType | [ItemPosType](../../../99-参考资料/0-Minecraft枚举值文档.html#itempostype)枚举 |
    | slotPos | int | 箱子槽位 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | itemDict | 物品信息字典，没有物品则返回None |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, 'Minecraft', 'item')
    comp.GetPlayerItem(serverApi.GetMinecraftEnum().ItemPosType.INVENTORY, 0)
```

    
- 备注

  - 物品信息字典 itemDict

    | 关键字     | 数据类型              | 说明     |
    | ----------| --------------------- | ---------|
    | itemName       | str | 物品的identifier，即"命名空间:物品名" |
    | showInHand |bool| 是否显示在手上，默认为true |
    | count  | int | 数量 |
    |auxValue| int| 物品附加值 |
    |enchantData| list | 附魔数据                             |
    |customTips| str | 物品的自定义tips |
    |extraId| str | 物品自定义标识符。可以用于保存数据， 区分物品 |


<span id="SetEquItemDurability"></span>
#### **SetEquItemDurability(slotPos, damage)**

- 描述

    设置装备槽位中盔甲的耐久值

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | slotPos | int | [ArmorSlotType](../../../99-参考资料/0-Minecraft枚举值文档.html#armorslottype)枚举 |
    | damage | int | 耐久值 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId,'Minecraft','item')
    comp.SetEquItemDurability(serverApi.GetMinecraftEnum().ArmorSlotType.HEAD, 5)
```

- 备注

  - 设置的耐久值超过物品的最大耐久值时，使用最大耐久值；最小耐久值为0


<span id="SetInvItemDurability"></span>
#### **SetInvItemDurability(slotPos, damage)**

- 描述

    设置背包物品的耐久值

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | slotPos | int | 物品槽位 |
    | damage | int | 耐久值 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId,'Minecraft','item')
    comp.SetInvItemDurability(0, 5)
```

- 备注

  - 设置的耐久值超过物品的最大耐久值时，使用最大耐久值；最小耐久值为0。当slot值为-1时，设置左手物品的耐久值


<span id="SetInvItemExchange"></span>
#### **SetInvItemExchange(pos1, pos2)**

- 描述

    交换玩家背包物品

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | pos1 | int | 物品位置 |
    | pos2 | int | 物品位置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId,'Minecraft','item')
    comp.SetInvItemExchange(0, 2)
```

<span id="SetInvItemNum"></span>
#### **SetInvItemNum(slotPos, num)**

- 描述

    设置玩家背包物品数目

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | slotPos | int | 物品栏槽位 |
    | num | int | 物品数目 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId,'Minecraft','item')
    comp.SetInvItemNum(0, 10)
```

<span id="SpawnItemToChestBlock"></span>
#### **SpawnItemToChestBlock(itemDict, playerId, slotPos, blockPos)**

- 描述

    添加物品到箱子

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | itemDict | dict | 物品字典 |
    | playerId | str | 玩家id |
    | slotPos | int | 箱子槽位 |
    | blockPos | (int,int,int) | 箱子位置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    itemDict = {
            'itemName': 'minecraft:bow',
            'count': 1,
            'enchantData': [(serverApi.GetMinecraftEnum().EnchantType.BowDamage, 1),],
            'auxValue': 0,
            'customTips':'§c new item §r',
            'extraId': 'abc'
    }
    comp = serverApi.CreateComponent(playerId, 'Minecraft', 'item')
    comp.SpawnItemToChestBlock(itemDict, playerId, 0, (x,y,z))
```

- 备注

  - 物品信息字典itemDict同SpawnItemToLevel中注释部分


<span id="SpawnItemToLevel"></span>
#### **SpawnItemToLevel(itemDict, dimensionId, pos)**

- 描述

    添加物品到level，如果需要获取物品的entityId，可以调用服务端系统接口CreateEngineItemEntity

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | itemDict | dict | 物品字典 |
    | dimensionId | int | 设置dimension |
    | pos | tuple(x,y,z) | 出生位置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    itemDict = {
            'itemName': 'minecraft:bow',
            'count': 1,
            'enchantData': [(serverApi.GetMinecraftEnum().EnchantType.BowDamage, 1),],
            'auxValue': 0,
            'customTips':'§c new item §r',
            'extraId': 'abc'
    }
    comp = serverApi.CreateComponent(levelId, 'Minecraft', 'item')
    comp.SpawnItemToLevel(itemDict, 0, (0,80,20))
    # 当最大生成数量为 1 时，可以继续调用生成 2 个物品
    comp.SpawnItemToLevel(itemDict, 0, (0,80,20))
```

    
- 备注

  - 物品信息字典 itemDict

    | 关键字     | 数据类型              | 说明     |
    | ----------| --------------------- | ---------|
    | itemName       | str | 物品的identifier。若需要设置为空则填"minecraft:air"，并且count填0 |
    | count  | int | 必须设置 数量，每次生成的数量最多为该物品的最大堆叠数量，如果需要生成更多的话，可以多次调用函数进行生成 |
    |auxValue| int| 必须设置 物品附加值 |
    | showInHand |bool| 可选设置 是否显示在手上，默认为true |
    |enchantData| list | 可选设置 附魔数据                             |
    |customTips| str | 可选设置 物品的自定义tips |
    |extraId| str | 可选设置 物品自定义标识符。可以用于保存数据， 区分物品 |


<span id="SpawnItemToPlayerCarried"></span>
#### **SpawnItemToPlayerCarried(itemDict, playerId)**

- 描述

    添加物品到玩家右手

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | itemDict | dict | 物品字典 |
    | playerId | str | 玩家id |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    itemDict = {
            'itemName': 'minecraft:bow',
            'count': 1,
            'enchantData': [(serverApi.GetMinecraftEnum().EnchantType.BowDamage, 1),],
            'auxValue': 0,
            'customTips':'§c new item §r',
            'extraId': 'abc'
    }
    comp = serverApi.CreateComponent(playerId, 'Minecraft', 'item')
    comp.SpawnItemToPlayerCarried(itemDict, playerId)
```

    
- 备注

  - 物品信息字典itemDict同SpawnItemToLevel中注释部分


<span id="SpawnItemToPlayerInv"></span>
#### **SpawnItemToPlayerInv(itemDict, playerId, slotPos)**

- 描述

    添加物品到玩家背包

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | itemDict | dict | 物品字典 |
    | playerId | str | 玩家id |
    | slotPos | int | 背包槽位(可选) |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    itemDict = {
            'itemName': 'minecraft:bow',
            'count': 1,
            'enchantData': [(serverApi.GetMinecraftEnum().EnchantType.BowDamage, 1),],
            'auxValue': 0,
            'customTips':'§c new item §r',
            'extraId': 'abc'
    }
    comp = serverApi.CreateComponent(playerId, 'Minecraft', 'item')
    comp.SpawnItemToPlayerInv(itemDict, playerId, 0)
```

- 备注

  - 物品信息字典itemDict同SpawnItemToLevel中注释部分。当slotPos不设置时，当设置的数量超过单个槽位堆叠的上限时，会将多余的物品设置到另外的空闲槽位.如果生成的物品与背包中有的槽位的物品种类一致，该接口也会将物品增加到这些槽位中。注意：如果背包中剩余的物品数目和增加的物品数目之和大于64，则会生成物品数目到64，但是接口返回失败。


<span id="SpawnItemToPlayerOffHand"></span>
#### **SpawnItemToPlayerOffHand(itemDict, playerId)**

- 描述

    添加物品到玩家左手

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | itemDict | dict | 物品字典 |
    | playerId | str | 玩家id |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    itemDict = {
            'itemName': 'minecraft:bow',
            'count': 1,
            'enchantData': [(serverApi.GetMinecraftEnum().EnchantType.BowDamage, 1),],
            'auxValue': 0,
            'customTips':'§c new item §r',
            'extraId': 'abc'
    }
    comp = serverApi.CreateComponent(playerId, 'Minecraft', 'item')
    comp.SpawnItemToPlayerOffHand(itemDict, playerId)
```

- 备注

  - 物品信息字典itemDict同SpawnItemToLevel中注释部分


<span id="recipe"></span>
### recipe

<span id="GetRecipeResult"></span>
#### **GetRecipeResult(recipeId)**

- 描述

    根据配方id获取配方结果。仅支持合成配方

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | list[{resultDict}] | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, 'Minecraft', 'recipe')
    comp.GetRecipeResult(recipe1)
    comp.GetRecipeResult(recipe2)
    #使用此配方后，可以使用一个铁锭放在上，一个木棍放在下，合成铁剑
```

- 备注

  - resultDict字典内容如下

    | 关键字     | 数据类型              | 说明     |
    | ----------| --------------------- | ---------|
    | itemName  | str | 物品名称id |
    |auxValue| int | 物品附加值 |
    |num| int | 物品数目 |


<span id="实体"></span>
## [实体](../0-名词解释.md#实体)

<span id="action"></span>
### action

<span id="GetAttackTarget"></span>
#### **GetAttackTarget()**

- 描述

    获取攻击目标

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | str | 攻击目标实体id |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "action")
    comp.GetAttackTarget()
```

<span id="GetHurtBy"></span>
#### **GetHurtBy()**

- 描述

    获取攻击自己的对象实体id

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | str | 攻击自己的对象实体id |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "action")
    comp.GetHurtBy()
```

<span id="ResetAttackTarget"></span>
#### **ResetAttackTarget()**

- 描述

    清除标记攻击目标

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "action")
    comp.ResetAttackTarget()
```

<span id="ResetHurtBy"></span>
#### **ResetHurtBy()**

- 描述

    清除标记攻击自己的对象实体id

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "action")
    comp.ResetHurtBy()
```

<span id="SetAttackTarget"></span>
#### **SetAttackTarget(targetId)**

- 描述

    设置攻击目标

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | targetId | str | 攻击目标实体id |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "action")
    comp.SetAttackTarget(targetId)
```

<span id="SetHurtBy"></span>
#### **SetHurtBy(attackerId)**

- 描述

    设置攻击自己的对象实体id

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | attackerId | str | 攻击自己的对象实体id |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "action")
    comp.SetHurtBy(playerId)
```

<span id="SetMobKnockback"></span>
#### **SetMobKnockback(xd, zd, power, height, heightCap)**

- 描述

    设置击退的初始速度，需要考虑阻力的影响

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | xd | float | x轴方向，用來控制角度 |
    | zd | float | z轴方向，用來控制角度 |
    | power | float | 用来控制水平方向的初速度 |
    | height | float | 竖直方向的初速度 |
    | heightCap | float | 向上速度阈值，当实体本身已经有向上的速度时需要考虑这个值，用来确保最终向上的速度不会超过heightCap |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | None | 无返回值 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "action")
    comp.SetMobKnockback(0.1, 0.1, 1.0, 1.0, 1.0)
```

<span id="actorPushable"></span>
### actorPushable

服务端用来控制玩家是否可推动

<span id="SetActorPushable"></span>
#### **SetActorPushable(isPushable)**

- 描述

    设置实体是否可推动

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | isPushable | int | 0:不可推动  1:可推动 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | True表示设置成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "actorPushable")
    success = comp.SetActorPushable(1)
```

<span id="attr"></span>
### attr

<span id="GetAttrMaxValue"></span>
#### **GetAttrMaxValue(type)**

- 描述

    获取属性最大值

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | type | AttrType | [AttrType](../../../99-参考资料/0-Minecraft枚举值文档.html#attrtype)枚举 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | value | 属性值结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "attr")
    comp.GetAttrMaxValue(GetMinecraftEnum().AttrType.HEALTH)
```

<span id="GetAttrValue"></span>
#### **GetAttrValue(type)**

- 描述

    获取属性值

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | type | AttrType | [AttrType](../../../99-参考资料/0-Minecraft枚举值文档.html#attrtype)枚举 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | value | 属性结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "attr")
    comp.GetAttrValue(GetMinecraftEnum().AttrType.HEALTH)
```

<span id="SetAttrMaxValue"></span>
#### **SetAttrMaxValue(type, value)**

- 描述

    设置属性最大值

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | type | AttrType | [AttrType](../../../99-参考资料/0-Minecraft枚举值文档.html#attrtype)枚举 |
    | type | value | 属性值 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "attr")
    comp.SetAttrMaxValue(GetMinecraftEnum().AttrType.SPEED,0.2)
```

<span id="SetAttrValue"></span>
#### **SetAttrValue(type, value)**

- 描述

    设置属性值

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | type | AttrType | [AttrType](../../../99-参考资料/0-Minecraft枚举值文档.html#attrtype)枚举 |
    | type | value | 属性值 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "attr")
    comp.SetAttrValue(GetMinecraftEnum().AttrType.HEALTH,20)
```

<span id="auxValue"></span>
### auxValue

<span id="GetAuxValue"></span>
#### **GetAuxValue()**

- 描述

    获取射出的弓箭或投掷出的药水的数据值

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | auxValue |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "auxValue")
    comp.GetAuxValue()
```

<span id="collisionBox"></span>
### collisionBox

<span id="GetSize"></span>
#### **GetSize()**

- 描述

    获取实体的包围盒

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | tuple(int,int) | 包围盒大小 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "collisionBox")
    comp.GetSize()
```

<span id="SetSize"></span>
#### **SetSize(size)**

- 描述

    设置实体的包围盒

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | size | tuple(int,int) | 第一位表示宽度和长度，第二位表示高度 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "collisionBox")
    comp.SetSize((2,3))
```

- 备注

  - 对新生产的实体需要经过5帧之后再设置包围盒的大小才会生效


<span id="dimension"></span>
### dimension

<span id="ChangePlayerDimension"></span>
#### **ChangePlayerDimension(dimensionId, pos)**

- 描述

    传送玩家

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | dimensionId | int | 维度，0-overWorld; 1-nether; 2-theEnd |
    | pos | tuple(int,int,int) | 传送的坐标 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, "Minecraft", "dimension")
    comp.ChangePlayerDimension(0，(0,4,0))
```

<span id="CreateDimension"></span>
#### **CreateDimension(dimensionId)**

- 描述

    创建新的dimension

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | dimensionId | int | 维度，0/1/2维度是不需要创建的。dimensionId取值范围为[0, 20] |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否创建成功 |

- 示例

```python
    comp = self.CreateComponent(levelId, "Minecraft", "dimension")
    comp.CreateDimension(3)
```

- 备注

  - 要求在初始化mod时调用


<span id="GetEntityDimensionId"></span>
#### **GetEntityDimensionId()**

- 描述

    获取实体dimension

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | 实体维度 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, "Minecraft", "dimension")
    comp.GetEntityDimensionId()
```

<span id="MirrorDimension"></span>
#### **MirrorDimension(fromId, toId)**

- 描述

    复制不同dimension的地形

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | fromId | int | 原dimensionId |
    | toId | int | 目标dimensionId |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, "Minecraft", "dimension")
    comp.MirrorDimension(levelId，0，1)
```

<span id="RegisterEntityAOIEvent"></span>
#### **RegisterEntityAOIEvent(dimension, name, aabb, ignoredEntities)**

- 描述

    注册感应区域，有生物进入时和离开时会有消息通知

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | dimension | int | 维度id |
    | name | str | 注册的感应区域名 |
    | aabb | tuple(float,float,float,float,float,float) | 感应区域的坐标范围，依次为minX, minY, minZ, maxX, maxY, maxZ |
    | ignoredEntities | list[str] | 忽略的实体id列表 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否注册成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, "Minecraft", "dimension")
    comp.RegisterEntityAOIEvent(0, "test", (0, 0, 0, 1, 1, 1), None)
```

- 备注

  - 注册完感应区域后，需通过监听OnEntityAreaEvent事件来获取感应事件


<span id="UnRegisterEntityAOIEvent"></span>
#### **UnRegisterEntityAOIEvent(dimension, name)**

- 描述

    反注册感应区域

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | dimension | int | 维度id |
    | name | str | 需要反注册的感应区域名 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否注册成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, "Minecraft", "dimension")
    comp.UnRegisterEntityAOIEvent(0, "test")
```

<span id="effect"></span>
### effect

实体状态效果相关接口，包括添加、删除、查询状态等

<span id="AddEffectToEntity"></span>
#### **AddEffectToEntity(effectName, duration, amplifier, showParticles)**

- 描述

    为实体添加指定状态效果，如果添加的状态已存在则有以下击中情况：1、等级大于已存在则更新状态等级及持续时间；2、状态等级相等且剩余时间duration大于已存在则刷新剩余时间；3、等级小于已存在则不做修改；4、粒子效果以新的为准

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | effectName | str | 状态效果名称字符串，包括自定义状态效果和原版状态效果，原版状态效果可在wiki查询 |
    | duration | int | 状态效果持续时间，单位秒 |
    | amplifier | int | 状态效果的额外等级。必须在0至255之间（含）。若未指定，默认为0。注意，状态效果的第一级（如生命恢复 I）对应为0，因此第二级状态效果，如生命回复 II，应指定强度为1。部分效果及自定义状态效果没有强度之分，如夜视 |
    | showParticles | bool | 是否显示粒子效果，True显示，False不显示 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | True表示设置成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "effect")
    res = comp.AddEffectToEntity("speed", 30, 2, True)
```

<span id="GetAllEffects"></span>
#### **GetAllEffects()**

- 描述

    获取实体当前所有状态效果

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | list | 状态效果信息字典的list |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "effect")
    effectDictList = comp.GetAllEffects()
```

- 备注

  - 状态效果信息字典 effectDict

    | 关键字     | 数据类型              | 说明     |
    | ----------| --------------------- | ---------|
    | effectName | str | 状态效果名称 |
    | duration  | int | 状态效果剩余持续时间，单位秒 |
    | amplifier  | int | 状态效果额外等级 |


<span id="RemoveEffectFromEntity"></span>
#### **RemoveEffectFromEntity(effectName)**

- 描述

    为实体删除指定状态效果

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | effectName | str | 状态效果名称字符串，包括自定义状态效果和原版状态效果，原版状态效果可在wiki查询 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | True表示删除成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "effect")
    res = comp.RemoveEffectFromEntity("speed")
```

<span id="engineType"></span>
### engineType

<span id="GetEngineType"></span>
#### **GetEngineType()**

- 描述

    获取实体类型

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | EntityType | 详见[EntityType](../../../99-参考资料/0-Minecraft枚举值文档.html#entitytype) |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "engineType")
    entityType = comp.GetEngineType()
    # 以判断是否是 Mob 为例，如果要判断是否为弹射物，找到对应的类型Projectile修改即可
    if entityType & serverApi.GetMinecraftEnum().EntityType.Mob == serverApi.GetMinecraftEnum().EntityType.Mob:
            print "{} is Mod".format(comp.GetEngineTypeStr())
    # 或者通过Minecraft枚举值文档找到 Mob 的值为 0x00000100 即 256
    if entityType & 0x0000010 == 0x0000010:
            print "{} is Mod".format(comp.GetEngineTypeStr())
    if entityType & 256 == 256:
            print "{} is Mod".format(comp.GetEngineTypeStr())
```

<span id="GetEngineTypeStr"></span>
#### **GetEngineTypeStr()**

- 描述

    获取实体在游戏中的类型id的str

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | str | 实体类型的string描述 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "engineType")
    comp.GetEngineTypeStr()
```

<span id="exData"></span>
### exData

<span id="GetExtraData"></span>
#### **GetExtraData(key)**

- 描述

    用于保存实体数据和全局数据，数据存放到leveldb

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | key | str | 自定义key |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | value | 设定的value值 |

- 示例

```python
    #获取全局数据
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "extraData")
    comp.GetExtraData("globalMsg")
```

<span id="SetExtraData"></span>
#### **SetExtraData(key, value)**

- 描述

    用于保存实体数据和全局数据，数据存放到leveldb

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | key | str | 自定义key |
    | value | value | 支持python基本数据类型，tuple不支持 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    #设置实体数据
    entitycomp = serverApi.CreateComponent(entityId, "Minecraft", "extraData")
    entitycomp.SetExtraData("nickname","steve")
    entitycomp.SetExtraData("score",256)
    #设置全局数据
    levelcomp = serverApi.CreateComponent(levelId, "Minecraft", "extraData")
    levelcomp.SetExtraData("globalMsg","helloWorld")
```

- 备注

  - 用levelId创建组件时，数据存放在全局；用entityId创建时，存放在实体中。创建entity和level的extraData需要用不同变量创建该组件。


<span id="gravity"></span>
### gravity

<span id="GetGravity"></span>
#### **GetGravity()**

- 描述

    获取实体的重力因子，当生物重力因子为0时则应用世界的重力因子

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | float | 重力因子 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "gravity")
    comp.GetGravity()
```

<span id="SetGravity"></span>
#### **SetGravity(gravity)**

- 描述

    设置实体的重力因子，当生物重力因子为0时则应用世界的重力因子

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | gravity | float | 负数，表示每帧向下的速度 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "gravity")
    comp.SetGravity(-0.08)
```

<span id="hurt"></span>
### hurt

<span id="SetHurtByEntity"></span>
#### **SetHurtByEntity(attackerId, damage, byPassArmor)**

- 描述

    对实体造成伤害

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | attackerId | str | 伤害来源的实体id |
    | damage | int | 伤害值 |
    | bypassArmor | bool | 是否忽略护甲 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否设置成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, "Minecraft", "hurt")
    comp.SetHurtByEntity(attackerId,10,False)
```

<span id="modAttr"></span>
### modAttr

用于支持脚本层的属性管理

<span id="GetAttr"></span>
#### **GetAttr(paramName, defaultValue)**

- 描述

    获取属性值

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | paramName | str | 属性名称，str的名称建议以mod命名为前缀，避免多个mod之间冲突 |
    | defaultValue | PyObject | 属性默认值，属性不存在时返回该默认值，此时属性值依然未设置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | PyObject | 返回属性值 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "modAttr")
    comp.GetAttr('health')
    # 如果直接修改GetAttr出来的集合类型，需要重新调用一遍SetAttr确保有进行更新
    testDict = comp.GetAttr('testDict')
    testDict['key'] = 'newValue'
    comp.SetAttr('testDict', testDict)
```

- 备注

  - defaultValue不传的时候默认为None


<span id="SetAttr"></span>
#### **SetAttr(paramName, paramValue)**

- 描述

    设置属性值

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | paramName | str | 属性名称，str的名称建议以mod命名为前缀，避免多个mod之间冲突 |
    | paramValue | PyObject | 属性值，支持python基础数据 |

- 返回值

    空

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "modAttr")
    comp.SetAttr('health', 1)
    comp.SetAttr('testDict', {'key':'value'})
```

- 备注

  - 注意：tuple、set在同步时会转成list。建议优先使用数字和字符串等非集合类型。


<span id="persistence"></span>
### persistence

<span id="SetPersistence"></span>
#### **SetPersistence(isPersistent)**

- 描述

    设置实体是否存盘

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | isPersistent | bool | True为存盘，False为不存盘 |

- 返回值

    空

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "persistence")
    comp.SetPersistence(True)
```

<span id="pos"></span>
### pos

<span id="GetPos"></span>
#### **GetPos()**

- 描述

    获取实体位置

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | tuple(float,float,float) | 位置信息 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "pos")
    comp.GetPos()
```

<span id="SetPos"></span>
#### **SetPos(pos)**

- 描述

    设置实体位置

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | pos | tuple(int,int，int) | xyz值 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "pos")
    comp.SetPos((1,2,3))
```

<span id="rot"></span>
### rot

<span id="GetRot"></span>
#### **GetRot()**

- 描述

    获取实体角度

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | tuple(float,float) | （上下角度，左右角度）单位是角度而不是弧度 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "rot")
    comp.GetRot()
```

<span id="SetRot"></span>
#### **SetRot(rot)**

- 描述

    设置体角度

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | rot | tuple(float,float) | （上下角度，左右角度）单位是角度而不是弧度 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "rot")
    comp.SetRot((30,0))
```

<span id="生物"></span>
## [生物](../0-名词解释.md#生物)

<span id="armorSlot"></span>
### armorSlot

<span id="GetArmorNew"></span>
#### **GetArmorNew(slotPos)**

- 描述

    获取装备

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | slotPos | ArmorSlotType | [ArmorSlotType](../../../99-参考资料/0-Minecraft枚举值文档.html#armorslottype)枚举 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | tuple | 装备tuple(itemName,auxValue,extraId),不存在时为minecraft:air |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, 'Minecraft', 'armorSlot')
    info = comp.GetArmorNew(ArmorSlotType.LEG)
```

<span id="SetArmorNew"></span>
#### **SetArmorNew(slotPos, armorName, extraId, enchantData)**

- 描述

    设置装备

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | slotPos | int | ArmorSlotType [ArmorSlotType](../../../99-参考资料/0-Minecraft枚举值文档.html#armorslottype)枚举 |
    | armorName | str | 装备名称 |
    | extraId | str | 装备自定义标识符 |
    | enchantData | list[(int,int)] | list[(enchant.type,enchant.level)]附魔值 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, 'Minecraft', 'armorSlot')
    #原生装备
    comp.SetArmorNew(serverApi.GetMinecraftEnum().ArmorSlotType.HEAD,"minecraft:diamond_helmet")
    #自定义装备
    comp.SetArmorNew(serverApi.GetMinecraftEnum().ArmorSlotType.HEAD,"modid:modarmor",'qwq',[(14,5)])
```

- 备注

  - armorName设置为空字符串，可以置空该槽位的装备


<span id="breath"></span>
### breath

<span id="GetCurrentAirSupply"></span>
#### **GetCurrentAirSupply()**

- 描述

    生物当前氧气储备值

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | 生物当前氧气储备值 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "breath")
    comp.GetCurrentAirSupply()
```

<span id="GetMaxAirSupply"></span>
#### **GetMaxAirSupply()**

- 描述

    获取生物最大氧气储备值

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | 最大氧气储备值 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "breath")
    comp.GetMaxAirSupply()
```

<span id="GetUnitBubbleAirSupply"></span>
#### **GetUnitBubbleAirSupply()**

- 描述

    单位气泡数对应的氧气储备值

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | int | 单位气泡数对应的氧气储备值 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "breath")
    comp.GetUnitBubbleAirSupply()
```

<span id="IsConsumingAirSupply"></span>
#### **IsConsumingAirSupply()**

- 描述

    获取生物当前是否在消耗氧气

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否消耗氧气 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "breath")
    comp.IsConsumingAirSupply()
```

<span id="SetCurrentAirSupply"></span>
#### **SetCurrentAirSupply(data)**

- 描述

    设置生物氧气储备值

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | data | int | 设置生物当前氧气值 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "breath")
    comp.SetCurrentAirSupply(300)
```

<span id="SetMaxAirSupply"></span>
#### **SetMaxAirSupply(data)**

- 描述

    设置生物最大氧气储备值

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | data | int | 设置生物最大氧气值 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "breath")
    comp.SetMaxAirSupply(400)
```

<span id="controlAi"></span>
### controlAi

<span id="SetBlockControlAi"></span>
#### **SetBlockControlAi(isBlock)**

- 描述

    设置屏蔽生物原生AI

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | isBlock | bool | 是否保留AI，false为屏蔽 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    contServer = serverApi.CreateComponent(entityId, "Minecraft", "controlAi")
    contServer.SetBlockControlAi(False)
```

    
- 备注

  - 屏蔽AI后的生物无法行动，不受重力且不会被推动。但是可以受到伤害，也可以被玩家交互（例如马被骑或村民被交易）


<span id="entityEvent"></span>
### entityEvent

<span id="TriggerCustomEvent"></span>
#### **TriggerCustomEvent(entityId, eventName)**

- 描述

    触发生物自定义事件

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | entityId | str | 生物Id |
    | eventName | str | 事件名称 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    #触发entity自定义event
    eventName = "netease:custom_exploading"
    comp = serverApi.CreateComponent(entityId, 'Minecraft', 'entityEvent')
    comp.TriggerCustomEvent(entityId,eventName)
```

- 备注

  - 触发苦力怕爆炸

    在苦力怕的entity json文件中`events`字段下增加如下事件,然后在mod中运行示例代码：

    ```json
    "netease:custom_exploading":{
                      "sequence": [
                            {
                              "filters": {
                            "test": "has_component",
                                    "operator": "!=",
                                    "value": "minecraft:is_charged"
                              },
                              "add": {
                                    "component_groups": [
                                      "minecraft:forced_exploding"
                                    ]
                              }
                            },
                            {
                              "filters": {
                                    "test": "has_component",
                                    "value": "minecraft:is_charged"
                              },
                              "add": {
                                    "component_groups": [
                                      "minecraft:forced_charged_exploding"
                                    ]
                              }
                            }
                      ]
                    }
    ```


<span id="mobSpawn"></span>
### mobSpawn

<span id="SpawnCustomModule"></span>
#### **SpawnCustomModule(biomeType, change, entityType, probability, minCount, maxCount, environment, minBrightness, maxBrightness, minHeight, maxHeight)**

- 描述

    设置自定义刷怪

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | biomeType | BiomeType | [BiomeType](../../../99-参考资料/0-Minecraft枚举值文档.html#biometype)枚举 |
    | change | Change | [Change](../../../99-参考资料/0-Minecraft枚举值文档.html#change)枚举 |
    | entityType | EntityType | [EntityType](../../../99-参考资料/0-Minecraft枚举值文档.html#entitytype)枚举 |
    | probability | int | 生成的权重[1, 10] |
    | minCount | int | 最小生成数量[0, 10] |
    | maxCount | int | 最大生成数量[0, 10] |
    | environment | int | 1:生成在表面；2:生成在水里 |
    | minBrightness | int | 生成该生物时的最小光照[1, 15]，不设置时使用默认值 |
    | maxBrightness | int | 生成该生物时的最大光照[1, 15]，不设置时使用默认值 |
    | minHeight | int | 生成该生物时最小的海拔高度[0, 256]，不设置时使用默认值 |
    | maxHeight | int | 生成该生物时最大的海拔高度[0, 256]，不设置时使用默认值 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(levelId, "Minecraft", "mobSpawn")
    comp.SpawnCustomModule(BiomeType.river,Change.Add,EntityType.Dolphin,10,1,10,2)
```

<span id="moveTo"></span>
### moveTo

<span id="SetMoveSetting"></span>
#### **SetMoveSetting(pos, speed, maxIteration, callback)**

- 描述

    寻路组件

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | pos | (float,float,float) | 寻路目标位置 |
    | speed | float | 移动速度 |
    | maxIteration | int | 寻路算法最大迭代次数 默认200 |
    | callback | function | 寻路结束回调函数 |

- 返回值

    空

- 示例

```python
    def myCallback(entityId, result):
            if result in (-1,-2,-3):
                    print '[error] [SetMoveSetting] failed'
            elif result==0:
                    print '[info] [SetMoveSetting] success'
            elif result in (1,2,3):
                    print '[warn] [SetMoveSetting] terminated'
    
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "moveTo")
    comp.SetMoveSetting((x,y,z),2.0,200,myCallBack)
```

    
- 备注

  - 目前仅支持陆地行走的生物，对于飞行、游泳、爬墙的生物暂不支持。

  - 不同的生物拥有不同的默认最大跟随距离，若要寻路的目标点距离大于此值引擎会拒绝寻路，要修改该距离可以通过在entity的json中配置.

    ```json
    {
      "format_version": "1.8.0",
      "minecraft:entity": {
              "components": {
                      "minecraft:follow_range": {
                            "value": 48,
                            "max": 48
                      }
              }
      }
    }
    ```

  - 关于maxIteration参数

    该参数会影响实际寻到路径的长度。若寻路算法迭代一定次数后，未寻到目标点，会返回局部最优解，即生物只会走到半路。在无大型障碍物的情况下，参数对应的参考寻路距离如下：该参数默认值200，最大值2000,请开发者根据实际情况选择。

    | maxIteration | 与目标点直线距离 |
    | ------------ | ---------------- |
    | 200          | 13               |
    | 500          | 20               |
    | 1000         | 30               |
    | 2000         | 43               |

  - 关于callback函数

    该函数需要接受两个参数，第一个参数为寻路的entityId，类型str，第二个参数为寻路结果，类型int （玩家获取到的位置比地面会高1.62格，若以玩家位置为目标点需要先把y轴减去1.62，否则callback会一直返回1）

    | 结果 | 说明                                                         |
    | ---- | ------------------------------------------------------------ |
    | -3   | 寻路失败，大于跟随距离，或者对正在寻路的飞行系生物使用       |
    | -2   | 寻路失败，生物没有寻路组件（指minecraft:navigation）         |
    | -1   | 寻路失败，参数错误，或生物不存在                             |
    | 0    | 寻路完成。到达设定的目标点                                   |
    | 1    | 寻路完成，但未到达目标点（可能由于maxIteration参数偏小）     |
    | 2    | 寻路中断。中途遇到障碍物被阻碍                               |
    | 3    | 寻路中断。被生物原版寻路行为覆盖，或寻路未结束时重复调用moveTo组件 |


<span id="name"></span>
### name

<span id="GetName"></span>
#### **GetName()**

- 描述

    获取生物name

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | str | 生物名称 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId,"Minecraft","name")
    comp.GetName()
```

<span id="SetName"></span>
#### **SetName(name)**

- 描述

    用于生成nameTag，玩家和新版流浪商人暂不支持

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | name | str | 名称 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId,"Minecraft","name")
    comp.SetName("new Name")
```

<span id="SetPlayerPrefixAndSuffixName"></span>
#### **SetPlayerPrefixAndSuffixName(prefix, prefixColor, suffix, suffixColor)**

- 描述

    设置玩家前缀和后缀名字

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | prefix | str | 前缀内容 |
    | prefixColor | str | 前缀内容颜色描述，可以使用GenerateColor接口传入参数 |
    | suffix | str | 后缀内容 |
    | suffixColor | str | 后缀内容颜色描述，可以使用GenerateColor接口传入参数 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置是否成功 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId,"Minecraft","name")
    comp.SetPlayerPrefixAndSuffixName("红队",serverApi.GenerateColor('RED'),'肉盾',serverApi.GenerateColor('RED'))
```

<span id="ride"></span>
### ride

<span id="GetEntityRider"></span>
#### **GetEntityRider()**

- 描述

    获取玩家的直接骑乘对象。

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | str | 玩家直接骑乘对象的唯一ID，假如玩家没有骑乘则返回“-1” |

- 示例

```python
    comp = self.CreateComponent(entityId, "Minecraft", "ride")
    riderId = comp.GetEntityRider()
```

<span id="IsEntityRiding"></span>
#### **IsEntityRiding()**

- 描述

    检查玩家是否骑乘。

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 是否骑乘 |

- 示例

```python
    comp = self.CreateComponent(entityId, "Minecraft", "ride")
    isRiding = comp.IsEntityRiding()
```

<span id="SetCanOtherPlayerRide"></span>
#### **SetCanOtherPlayerRide(tamedEntityId, canRide)**

- 描述

    设置其他玩家受否有权限骑乘，True表示每个玩家都能骑乘，False只有驯服者才能骑乘

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | tamedEntityId | str | 可骑乘生物id |
    | canRide | bool | 是否控制 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    # 驯服生物
    import server.extraServerApi as serverApi
    comtServer = serverApi.CreateComponent(entityId, "Minecraft", "ride")
    comtServer.SetCanOtherPlayerRide(entityId,False)
```

<span id="SetControl"></span>
#### **SetControl(tamedEntityId, isControl)**

- 描述

    设置该生物无需装备鞍就可以控制行走跳跃

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | tamedEntityId | str | 可骑乘生物id |
    | isControl | bool | 是否控制 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comtServer = serverApi.CreateComponent(entityId, "Minecraft", "ride")
    comtServer.SetIsControl(entityId,True)
```

<span id="SetEntityRide"></span>
#### **SetEntityRide(playerId, tamedEntityId)**

- 描述

    驯服可骑乘生物

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | playerId | str | 玩家id |
    | tamedEntityId | str | 要驯服的可骑乘生物id |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    # 驯服生物
    import server.extraServerApi as serverApi
    comtServer = serverApi.CreateComponent(entityId, "Minecraft", "ride")
    comtServer.SetEntityRide(playerId,entityId)
```

    
- 备注

  - 驯服信息会被存盘


<span id="SetPlayerRideEntity"></span>
#### **SetPlayerRideEntity(playerId, rideEntityId)**

- 描述

    设置玩家骑乘生物

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | playerId | str | 玩家id |
    | rideEntityId | str | 被骑乘生物id |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    # 骑上坐骑
    import server.extraServerApi as serverApi
    comtServer = serverApi.CreateComponent(entityId, "Minecraft", "ride")
    comtServer.SetPlayerRideEntity(playerId,rideEntityId)
```

- 备注

  - 通常需要配合SetEntityRide、SetControl一起使用

    当被控制的entity有多个位置时且开发者想要添加多个玩家时，第一个被添加的玩家会被引擎默认设置为控制者
<span id="SetRidePos"></span>
#### **SetRidePos(tamedEntityId, pos)**

- 描述

    设置生物骑乘位置

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | tamedEntityId | str | 可骑乘生物id |
    | pos | (float,float,float) | 骑乘时挂接点 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comtServer = serverApi.CreateComponent(entityId, "Minecraft", "ride")
    comtServer.SetRidePos(entityId,(1,1,1))
```

<span id="SetShowRideUI"></span>
#### **SetShowRideUI(tamedEntityId, isShowUI)**

- 描述

    设置是否显示马匹的UI界面，建议不显示

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | tamedEntityId | str | 可骑乘生物id |
    | isShowUI | bool | 是否显示UI |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comtServer = serverApi.CreateComponent(entityId, "Minecraft", "ride")
    comtServer.SetShowRideUI(entityId,False)
```

<span id="StopEntityRiding"></span>
#### **StopEntityRiding()**

- 描述

    强制玩家下坐骑。

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 当玩家当前正在骑乘并成功下坐骑返回True，否则返回False |

- 示例

```python
    comp = self.CreateComponent(entityId, "Minecraft", "ride")
    success = comp.StopEntityRiding()
```

<span id="tame"></span>
### tame

<span id="GetOwnerId"></span>
#### **GetOwnerId()**

- 描述

    获取驯服生物的主人id

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | str | 主人id，不存在时返回None |

- 示例

```python
    import server.extraServerApi as serverApi
    tameComp = serverApi.CreateComponent(entityId, 'Minecraft', 'tame')
    oid = tameComp.GetOwnerId()
```

<span id="SetEntityTamed"></span>
#### **SetEntityTamed(playerId, tamedId)**

- 描述

    设置生物驯服，需要配合 entityEvent组件使用。该类驯服不包含骑乘功能。

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | playerId | str | 驯服玩家Id |
    | tamedId | str | 被驯服的生物Id |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    #设置生物驯服
    #entityId playerId eventName 为相关参数
    tameComp = serverApi.CreateComponent(entityId, 'Minecraft', 'tame')
    tameComp.SetEntityTamed(playerId,tameId)
    envComp = serverApi.CreateComponent(entityId, 'Minecraft', 'entityEvent')
    envComp.TriggerCustomEvent(tamedId,'netease:on_tame')
```

    
    
- 备注

  - 设置生物json文件能够被驯服

    1. 修改生物entity json文件：- 增加 minecraft:tameable 组件- 增加 tame 组件集合描述，其中minecraft:behavior.follow_owner优先级要高于已有搜寻状态的优先级- event事件增加对应的on_tame事件，事件执行移除不想管的组件集合，添加刚刚设置的新tame组件集合2. 设置驯服主体和被驯服主体entityId，通过设置`tameSetting`属性3. 设置触发对应的驯服事件  - 驯服苦力怕 json做如下修改

    ```json
    {
            "format_version": "1.8.0",
            "minecraft:entity": {
            "description": {
              "identifier": "minecraft:creeper",
              "is_spawnable": true,
              "is_summonable": true,
              "is_experimental": false
            },
            "component_groups": {
                    "minecraft:exploding": {
                      "minecraft:explode": {
                            "fuseLength": 1.5,
                            "fuseLit": true,
                            "power": 3,
                            "causesFire": false,
                            "destroyAffectedByGriefing": true
                      }
                    },
                    "minecraft:charged_creeper": {
                      "minecraft:is_charged": {
                      }
                    },
                    "minecraft:charged_exploding": {
                      "minecraft:explode": {
                            "fuseLength": 1.5,
                            "fuseLit": true,
                            "power": 6,
                            "causesFire": false,
                            "destroyAffectedByGriefing": true
                      }
                    },
                    "minecraft:forced_exploding": {
                      "minecraft:target_nearby_sensor": {
                      },
                      "minecraft:explode": {
                            "fuseLength": 1.5,
                            "fuseLit": true,
                            "power": 3,
                            "causesFire": false,
                            "destroyAffectedByGriefing": true
                      },
                      "minecraft:on_target_escape": {
                      }
                    },
                    "minecraft:forced_charged_exploding": {
                      "minecraft:target_nearby_sensor": {
                      },
                      "minecraft:explode": {
                            "fuseLength": 1.5,
                            "fuseLit": true,
                            "power": 6,
                            "causesFire": false,
                            "destroyAffectedByGriefing": true
                      },
                      "minecraft:on_target_escape": {
                      }
                    },
                    //增加驯服状态
                    "netease:creeper_tame":{
                      "minecraft:is_tamed": {
                      },
                      "minecraft:behavior.follow_owner": {
                            "priority": 4,
                            "speed_multiplier": 1.0,
                            "start_distance": 10,
                            "stop_distance": 2
                      },
                      "minecraft:behavior.breed": {
                            "priority": 7
                      },
                      "minecraft:behavior.owner_hurt_by_target": {
                            "priority": 1
                      },
                      "minecraft:behavior.owner_hurt_target": {
                            "priority": 2
                      }
                    }
              },
    
              "components": {
                    "minecraft:type_family": {
                      "family": [ "creeper", "monster" ]
                    },
                    "minecraft:breathable": {
                      "totalSupply": 15,
                      "suffocateTime": 0
                    },
                    "minecraft:nameable": {
                    },
                    "minecraft:collision_box": {
                      "width": 0.6,
                      "height": 1.8
                    },
    
                    "minecraft:movement": {
                      "value": 0.2
                    },
                    "minecraft:navigation.walk": {
                    "can_path_over_water": true
                    },
                    "minecraft:movement.basic": {
    
                    },
                    "minecraft:jump.static": {
                    },
                    "minecraft:can_climb": {
                    },
                    "minecraft:loot": {
                      "table": "loot_tables/entities/creeper.json"
                    },
    
                    "minecraft:health": {
                      "value": 20,
                      "max": 20
                    },
                    "minecraft:attack": {
                      "damage": 3
                    },
    
                    "minecraft:damage_sensor": [
                      {
                            "on_damage": {
                              "filters": {
                                    "test": "is_family",
                                    "subject": "other",
                                    "value": "lightning"
                              },
                              "event": "minecraft:become_charged"
                            },
                            "deals_damage": false
                      }
                    ],
    
                    "minecraft:target_nearby_sensor": {
                      "inside_range": 2.5,
                      "outside_range": 6.0,
                      "on_inside_range": {
                            "event": "minecraft:start_exploding",
                            "target": "self"
                      },
                      "on_outside_range": {
                            "event": "minecraft:stop_exploding",
                            "target": "self"
                      }
                    },
                    "minecraft:interact": {
                      "on_interact": {
                            "filters": {
                              "all_of": [
                                    {
                                      "test": "is_family",
                                      "subject": "other",
                                      "value": "player"
                                    },
                                    {
                                      "test": "has_equipment",
                                      "domain": "hand",
                                      "subject": "other",
                                      "value": "flint_and_steel"
                                    },
                                    {
                                      "test": "has_component",
                                      "operator": "!=",
                                      "value": "minecraft:explode"
                                    }
                              ]
                            },
                            "event": "minecraft:start_exploding_forced",
                            "target": "self"
                      },
                      "hurt_item": 1,
                      "swing": true,
                      "play_sounds": "ignite",
                      "interact_text": "action.interact.creeper"
                    },
                    "minecraft:behavior.float": {
                      "priority": 0
                    },
                    "minecraft:behavior.swell": {
                      "start_distance": 2.5,
                      "stop_distance": 6.0,
                      "priority": 2
                    },
                    "minecraft:behavior.melee_attack": {
                      "priority": 4,
                      "speed_multiplier": 1.25,
                      "track_target": false
                    },
                    "minecraft:behavior.avoid_mob_type": {
                      "priority": 3,
                      "entity_types": [
                            {
                              "filters": {
                                    "any_of": [
                                      { "test" :  "is_family", "subject" : "other", "value" :  "ocelot"},
                                      { "test" :  "is_family", "subject" : "other", "value" :  "cat"}
                                    ]
                              },
                              "max_dist": 6,
                              "walk_speed_multiplier": 1,
                              "sprint_speed_multiplier": 1.2
                            }
                      ]
                    },
                    "minecraft:behavior.random_stroll": {
                      "priority": 5,
                      "speed_multiplier": 1
                    },
                    "minecraft:behavior.look_at_player": {
                      "priority": 6,
                      "look_distance": 8
                    },
                    "minecraft:behavior.random_look_around": {
                      "priority": 6
                    },
                    "minecraft:behavior.nearest_attackable_target": {
                      "priority": 1,
                      "entity_types": [
                            {
                              "filters": {
                                    "test": "is_family",
                                    "subject": "other",
                                    "value": "player"
                              },
                              "max_dist": 16
                            }
                      ],
                      "must_see": true,
                      "must_see_forget_duration": 0.0
                    },
                    "minecraft:behavior.hurt_by_target": {
                      "priority": 2
                    },
                    "minecraft:physics": {
                    },
                    "minecraft:on_target_escape": {
                      "event": "minecraft:stop_exploding",
                      "target": "self"
                    },
                     //增加驯服组件
                    "minecraft:tameable": {
                      "probability": 0.33,
                      "tameItems": "bone",
                      "tame_event": {
                            "event": "netease:on_tame",
                            "target": "self"
                      }
                    }
              },
    
              "events": {
                    "minecraft:start_exploding_forced": {
                      "sequence": [
                            {
                              "filters": {
                                    "test": "has_component",
                                    "operator": "!=",
                                    "value": "minecraft:is_charged"
                              },
                              "add": {
                                    "component_groups": [
                                      "minecraft:forced_exploding"
                                    ]
                              }
                            },
                            {
                              "filters": {
                                    "test": "has_component",
                                    "value": "minecraft:is_charged"
                              },
                              "add": {
                                    "component_groups": [
                                      "minecraft:forced_charged_exploding"
                                    ]
                              }
                            }
                      ]
                    },
                    "netease:custom_exploading":{
                      "sequence": [
                            {
                              "filters": {
                                    "test": "has_component",
                                    "operator": "!=",
                                    "value": "minecraft:is_charged"
                              },
                              "add": {
                                    "component_groups": [
                                      "minecraft:forced_exploding"
                                    ]
                              }
                            },
                            {
                              "filters": {
                                    "test": "has_component",
                                    "value": "minecraft:is_charged"
                              },
                              "add": {
                                    "component_groups": [
                                      "minecraft:forced_charged_exploding"
                                    ]
                              }
                            }
                      ]
                    },
                    "minecraft:start_exploding": {
                      "sequence": [
                            {
                              "filters": {
                                    "test": "has_component",
                                    "operator": "!=",
                                    "value": "minecraft:is_charged"
                              },
                              "add": {
                                    "component_groups": [
                                      "minecraft:exploding"
                                    ]
                              }
                            },
                            {
                              "filters": {
                                    "test": "has_component",
                                    "value": "minecraft:is_charged"
                              },
                              "add": {
                                    "component_groups": [
                                      "minecraft:charged_exploding"
                                    ]
                              }
                            }
                      ]
                    },
                    "minecraft:stop_exploding": {
                      "remove": {
                            "component_groups": [
                              "minecraft:exploding"
                            ]
                      }
                    },
                    "minecraft:become_charged": {
                      "remove": {
                            "component_groups": [
                              "minecraft:exploding"
                            ]
                      },
                      "add": {
                            "component_groups": [
                              "minecraft:charged_creeper"
                            ]
                      }
                    },
                    //增加驯服事件
                    "netease:on_tame": {
                      "remove": {
                            "component_groups": [
                              "minecraft:exploding",
                              "minecraft:charged_exploding",
                              "minecraft:forced_exploding",
                              "minecraft:forced_charged_exploding",
                              "minecraft:charged_creeper"
                            ]
                      },
                      "add": {
                            "component_groups": [
                              "netease:creeper_tame"
                            ]
                      }
                    }
              }
            }
    }
    
    ```


<span id="抛射物"></span>
## [抛射物](../0-名词解释.md#抛射物)

<span id="bulletAttributes"></span>
### bulletAttributes

<span id="GetSourceEntityId"></span>
#### **GetSourceEntityId()**

- 描述

    获取抛射物发射者实体id

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | str | 抛射物发射者实体id |

- 示例

```python
    comp = self.CreateComponent(entityId, "Minecraft", "bulletAttributes")
    comp.GetSourceEntityId()
```

<span id="文本"></span>
## [文本](../0-名词解释.md#文本)

<span id="msg"></span>
### msg

<span id="NotifyOneMessage"></span>
#### **NotifyOneMessage(playerId, msg, color)**

- 描述

    给指定玩家发送聊天框消息

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | playerId | str | 指定玩家id |
    | msg | str | 消息内容 |
    | color | str | 颜色样式代码字符串，可参考wiki[样式代码](https://minecraft-zh.gamepedia.com/%E6%A0%B7%E5%BC%8F%E4%BB%A3%E7%A0%81)，默认为白色 |

- 返回值

    空

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "msg")
    comp.NotifyOneMessage(playerId, "test", "§c")
```

<span id="SendMsg"></span>
#### **SendMsg(name, msg)**

- 描述

    创建消息实体

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | name | str | 发送者玩家的名字 |
    | msg | str | 消息内容 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | bool | 设置结果 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(entityId, "Minecraft", "msg")
    comp.SendMsg("playerName","test")
```

    
- 备注

  - name参数需要设置玩家的名字(可通过name组件获取)，如果设置的玩家名字不存在，则随机找一个玩家发出该消息


<span id="SendMsgToPlayer"></span>
#### **SendMsgToPlayer(fromEntityId, toEntityId, msg)**

- 描述

    创建消息实体，然后发送给某个玩家

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | fromEntityId | str | 发送者玩家ID |
    | toEntityId | str | 接受者玩家ID |
    | msg | str | 消息内容 |

- 返回值

    空

- 示例

```python
    comp = self.CreateComponent(entityId, "Minecraft", "msg")
    comp.SendMsgToPlayer(fromEntityId, toEntityId, "test")
```

<span id="生物群系"></span>
## [生物群系](../0-名词解释.md#生物群系)

<span id="biome"></span>
### biome

<span id="GetBiomeName"></span>
#### **GetBiomeName(pos)**

- 描述

    获取某一位置所属的生物群系信息

- 参数

    | 参数名 | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | pos | (int,int,int) | 指定位置 |

- 返回值

    | 数据类型 | 说明 |
    | :--- | :--- | :--- |
    | str | 该位置所属生物群系name，若所在区块未加载返回空字符串 |

- 示例

```python
    import server.extraServerApi as serverApi
    comp = serverApi.CreateComponent(playerId, "Minecraft", "biome")
    biomeName = comp.GetBiomeName((0, 5, 0))
```

    
- 备注

  - 已经加载的地形才能获取生物群系信息


